## ğŸ“š é¡¹ç›®æ–‡æ¡£

æœ¬é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–æ–‡æ¡£ç»“æ„ï¼Œè¯¦ç»†å†…å®¹è¯·å‚è€ƒwikiç›®å½•ï¼š

| æ¨¡å— | å†…å®¹æ¦‚è¿° | ç›®æ ‡ç”¨æˆ· |
|------|----------|----------|
| [01-é¡¹ç›®æ¦‚è¿°ä¸å¿«é€Ÿå…¥é—¨](wiki/01-é¡¹ç›®æ¦‚è¿°ä¸å¿«é€Ÿå…¥é—¨.md) | é¡¹ç›®ä»‹ç»ã€å®‰è£…é…ç½®ã€åŸºç¡€ä½¿ç”¨ | æ‰€æœ‰ç”¨æˆ· |
| [02-æ¶æ„ä¸æ ¸å¿ƒæ¦‚å¿µ](wiki/02-æ¶æ„ä¸æ ¸å¿ƒæ¦‚å¿µ.md) | ç³»ç»Ÿæ¶æ„ã€äº‹ä»¶æ€»çº¿ã€è°ƒåº¦å™¨ã€è¾“å…¥ç³»ç»Ÿ | å¼€å‘è€… |
| [03-åŠŸèƒ½æ¨¡å—ä¸API](wiki/03-åŠŸèƒ½æ¨¡å—ä¸API.md) | åŠŸèƒ½æ¨¡å—è¯¦è§£ä¸å¸¸ç”¨APIç´¢å¼• | é«˜çº§ç”¨æˆ·/å¼€å‘è€… |
| [04-é…ç½®ä¸æ¡ä»¶ç³»ç»Ÿ](wiki/04-é…ç½®ä¸æ¡ä»¶ç³»ç»Ÿ.md) | é…ç½®ç®¡ç†ã€æ¡ä»¶é€»è¾‘ã€çƒ­é‡è½½æœºåˆ¶ | é…ç½®äººå‘˜ |
| [05-å›¾åƒæ•è·ä¸æ€§èƒ½](wiki/05-å›¾åƒæ•è·ä¸æ€§èƒ½.md) | DXGIæ•è·ã€æ¨¡æ¿åŒ¹é…ã€æ€§èƒ½ä¼˜åŒ– | æŠ€æœ¯äººå‘˜ |
| [06-è°ƒè¯•ã€éƒ¨ç½²ä¸æ•…éšœæ’æŸ¥](wiki/06-è°ƒè¯•ã€éƒ¨ç½²ä¸æ•…éšœæ’æŸ¥.md) | è°ƒè¯•å·¥å…·ã€éƒ¨ç½²è¿ç»´ã€æ•…éšœæ’æŸ¥åˆè®¢æœ¬ | å¼€å‘è€…/è¿ç»´ |

## é¡¹ç›®å…¥å£

pyahkæä¾›ä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼š

1. **GUIç‰ˆæœ¬** (`main.py`)ï¼šå®Œæ•´çš„å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼Œæ”¯æŒæ‰€æœ‰åŠŸèƒ½æ¨¡å—çš„å¯è§†åŒ–é…ç½®å’Œæ§åˆ¶
2. **å‘½ä»¤è¡Œç‰ˆæœ¬** (`main_special.py`)ï¼šè½»é‡çº§ç‰ˆæœ¬ï¼Œä¸“æ³¨äºç‰¹å®šæ¸¸æˆåœºæ™¯çš„è‡ªåŠ¨åŒ–ä»»åŠ¡

## æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§

pyahk åŸºäºç°ä»£åŒ–æŠ€æœ¯æ¶æ„ï¼Œæä¾›ä»¥ä¸‹æ ¸å¿ƒåŠŸèƒ½ï¼š

### ğŸš€ **æ€§èƒ½ä¼˜åŒ–æŠ€æœ¯**
- **é›¶æ‹·è´å±å¹•æ•è·**: åŸºäºDXGIçš„C++å®ç°ï¼Œæ¯«ç§’çº§å“åº”é€Ÿåº¦
- **äº‹ä»¶é©±åŠ¨æ¶æ„**: ä¸­å¤®äº‹ä»¶æ€»çº¿ï¼Œå®Œå…¨è§£è€¦è®¾è®¡
- **ç»Ÿä¸€è°ƒåº¦å™¨**: å•çº¿ç¨‹è°ƒåº¦ï¼Œäºšæ¯«ç§’çº§å®šæ—¶ç²¾åº¦

### ğŸ® **æ¸¸æˆè‡ªåŠ¨åŒ–åŠŸèƒ½**
- **ä¼˜å…ˆçº§æŒ‰é”®ç³»ç»Ÿ**: åŸºäºWindows Hookçš„é€‰æ‹©æ€§æ‹¦æˆªï¼›ç‰¹æ®ŠæŒ‰é”®ä¿æŒåŸç”Ÿå“åº”ï¼Œç®¡ç†æŒ‰é”®ç¨‹åºæ¥ç®¡ï¼›æ™ºèƒ½æš‚åœ/æ¢å¤ï¼ŒèŠ‚çœ70-90%CPUèµ„æº
- **æ™ºèƒ½è¯å‰‚ç®¡ç†**: è‡ªåŠ¨åœ†å½¢æ ¡å‡†ï¼ŒåŠåœ†åˆ†æç®—æ³•
- **é«˜çº§æŠ€èƒ½ç³»ç»Ÿ**: HSVå†·å´æ£€æµ‹ï¼Œå¤šè§¦å‘æ¨¡å¼
- **è£…å¤‡è¯ç¼€æ´—ç»ƒ**: PaddleOCRè¯†åˆ«ï¼Œå®æ—¶OSDåé¦ˆ
- **è‡ªåŠ¨å¯»è·¯æ¢ç´¢**: A*ç®—æ³•ï¼Œéšæœºåœ°å›¾æ¢ç´¢

### ğŸ”§ **å¼€å‘æ”¯æŒåŠŸèƒ½**
- **çŠ¶æ€æœºç®¡ç†**: å››çŠ¶æ€è½¬æ¢ï¼Œæ¨¡å¼äº’æ–¥é€»è¾‘
- **è°ƒè¯•ç›‘æ§ç³»ç»Ÿ**: å®æ—¶OSDï¼Œæ¡ä»¶æ—¥å¿—è¾“å‡º

## ä½¿ç”¨æ–¹æ³•

1.  **å¯åŠ¨ç¨‹åº**:
    *   **GUIç‰ˆæœ¬**: è¿è¡Œ `main.py`ï¼Œå¯åŠ¨åŒ…å«å®Œæ•´PySide6ç•Œé¢çš„ç‰ˆæœ¬ï¼Œæ”¯æŒæ‰€æœ‰åŠŸèƒ½æ¨¡å—ã€‚
    *   **ç‰¹æ®Šç‰ˆæœ¬**: è¿è¡Œ `main_special.py`ï¼Œå¯åŠ¨ä¸“ç”¨äºç‰¹å®šè‡ªåŠ¨åŒ–åœºæ™¯çš„ç‹¬ç«‹è„šæœ¬(Zé”®æ§åˆ¶è‡ªåŠ¨å·¦é”®)ã€‚

2.  **é…ç½®**: åœ¨GUIä¸­å®Œæˆé…ç½®ï¼Œæ”¯æŒJSONæ ¼å¼çš„é…ç½®æ–‡ä»¶åŠ è½½/ä¿å­˜ï¼Œé…ç½®é€šè¿‡ConfigManagerç»Ÿä¸€ç®¡ç†ã€‚

3.  **çƒ­é”®æ“ä½œ**:
    *   **F8 (ä¸»æ§é”®)**: åœ¨STOPPEDå’ŒREADYçŠ¶æ€é—´åˆ‡æ¢ï¼Œå‡†å¤‡æŠ€èƒ½æ¨¡å¼æ‰§è¡Œã€‚
    *   **F7 (æ´—ç»ƒé”®)**: ç‹¬ç«‹æ§åˆ¶è£…å¤‡è¯ç¼€æ´—ç»ƒæ¨¡å¼çš„å¯åŠ¨/åœæ­¢ã€‚
    *   **F9 (å¯»è·¯é”®)**: ç‹¬ç«‹æ§åˆ¶è‡ªåŠ¨å¯»è·¯æ¨¡å¼çš„å‡†å¤‡/åœæ­¢ã€‚
    *   **Z (æ‰§è¡Œ/æš‚åœé”®)**: åœ¨READYçŠ¶æ€ä¸‹å¯åŠ¨æ‰§è¡Œ(RUNNING)ï¼Œåœ¨RUNNINGçŠ¶æ€ä¸‹æš‚åœ/æ¢å¤(PAUSED)ã€‚

4.  **é¢œè‰²é…ç½®æ ¼å¼**: æ–°ç‰ˆæœ¬æ”¯æŒæ›´æ¸…æ™°çš„å¤šè¡Œé¢œè‰²é…ç½®æ ¼å¼ï¼š
    ```
    å®¹å·®å€¼(H,S,V)     # ç¬¬ä¸€è¡Œï¼šå…¨å±€å®¹å·®è®¾ç½®
    é¢œè‰²1(H,S,V)      # ç¬¬äºŒè¡Œï¼šç¬¬ä¸€ç§æ£€æµ‹é¢œè‰²
    é¢œè‰²2(H,S,V)      # ç¬¬ä¸‰è¡Œï¼šç¬¬äºŒç§æ£€æµ‹é¢œè‰²ï¼ˆå¯é€‰ï¼‰
    ...               # æ›´å¤šé¢œè‰²ï¼ˆå¯é€‰ï¼‰
    ```
    
    **ç¤ºä¾‹é…ç½®**ï¼š
    - **HPè¡€é‡æ£€æµ‹**ï¼š
      ```
      10,20,20        # å®¹å·®ï¼šHÂ±10, SÂ±20, VÂ±20
      157,75,29       # çº¢è‰²è¡€é‡
      40,84,48        # ç»¿è‰²è¡€é‡ï¼ˆå¤‡ç”¨ï¼‰
      ```
    
    - **MPé­”åŠ›æ£€æµ‹**ï¼š
      ```
      5,5,5           # å®¹å·®ï¼šHÂ±5, SÂ±5, VÂ±5
      104,80,58       # è“è‰²é­”åŠ›
      ```

## ä¾èµ–ç¯å¢ƒä¸é…ç½®

### ç³»ç»Ÿè¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: Windows 10/11
- **Pythonç‰ˆæœ¬**: 3.7+

### æ ¸å¿ƒä¾èµ–
```
PySide6>=6.5.0        # GUIæ¡†æ¶
psutil>=5.9.0         # ç³»ç»Ÿè¿›ç¨‹ç›‘æ§
pynput>=1.7.6         # é”®ç›˜é¼ æ ‡è¾“å…¥æ§åˆ¶
Pillow>=9.0.0         # å›¾åƒå¤„ç†
mss>=9.0.1           # é«˜æ€§èƒ½æˆªå›¾(å¤‡ç”¨)
numpy>=1.20.0         # æ•°å€¼è®¡ç®—
opencv-python>=4.5.0  # è®¡ç®—æœºè§†è§‰
pywin32>=306          # Windows API
paddleocr==2.7.3      # OCRæ–‡å­—è¯†åˆ«(å›ºå®šç‰ˆæœ¬)
```

### é¡¹ç›®ç»“æ„
```
torchlight_assistant/
â”œâ”€â”€ core/                           # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ macro_engine.py            # ä¸»æ§åˆ¶å™¨å’ŒçŠ¶æ€ç®¡ç†
â”‚   â”œâ”€â”€ event_bus.py               # äº‹ä»¶æ€»çº¿
â”‚   â”œâ”€â”€ unified_scheduler.py       # ç»Ÿä¸€è°ƒåº¦å™¨
â”‚   â”œâ”€â”€ input_handler.py           # è¾“å…¥å¤„ç†å™¨
â”‚   â”œâ”€â”€ skill_manager.py           # æŠ€èƒ½ç®¡ç†
â”‚   â”œâ”€â”€ resource_manager.py        # èµ„æºæ£€æµ‹
â”‚   â”œâ”€â”€ debug_display_manager.py   # è°ƒè¯•æ˜¾ç¤º
â”‚   â”œâ”€â”€ simple_affix_reroll_manager.py # è£…å¤‡æ´—ç»ƒ
â”‚   â”œâ”€â”€ pathfinding_manager.py     # è‡ªåŠ¨å¯»è·¯
â”‚   â””â”€â”€ states.py                  # çŠ¶æ€æšä¸¾
â”œâ”€â”€ gui/                           # ç”¨æˆ·ç•Œé¢
â”‚   â”œâ”€â”€ main_window.py             # ä¸»çª—å£
â”‚   â”œâ”€â”€ debug_osd_window.py        # è°ƒè¯•è¦†ç›–çª—å£
â”‚   â””â”€â”€ ...
â”œâ”€â”€ utils/                         # å·¥å…·ç±»
â”‚   â”œâ”€â”€ multi_priority_queue.py    # å¤šçº§ä¼˜å…ˆé˜Ÿåˆ—
â”‚   â”œâ”€â”€ priority_deque.py          # ä¼˜å…ˆçº§é˜Ÿåˆ—(å…¼å®¹)
â”‚   â”œâ”€â”€ native_graphics_capture_manager.py # å›¾å½¢æ•è·
â”‚   â”œâ”€â”€ border_frame_manager.py    # è¾¹æ¡†ç®¡ç†
â”‚   â”œâ”€â”€ hotkey_manager.py          # çƒ­é”®ç®¡ç†ï¼ˆWindowsä½çº§Hookï¼Œé€‰æ‹©æ€§æ‹¦æˆªï¼‰
â”‚   â””â”€â”€ ...
â””â”€â”€ native_capture/                # C++åŸç”Ÿæ•è·åº“
    â”œâ”€â”€ capture_lib.cpp            # DXGIæ•è·å®ç°
    â”œâ”€â”€ capture_lib.h              # Cæ¥å£å®šä¹‰
    â”œâ”€â”€ python_wrapper.py          # PythonåŒ…è£…å™¨
    â””â”€â”€ ...
```