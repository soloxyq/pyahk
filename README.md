# pyahk - é«˜æ€§èƒ½ARPGæ¸¸æˆè‡ªåŠ¨åŒ–è¾…åŠ©å·¥å…·

ä¸€ä¸ªåŸºäº Python å’Œ C++ çš„ç°ä»£åŒ–æ¡Œé¢æ¸¸æˆè‡ªåŠ¨åŒ–è¾…åŠ©å·¥å…·ï¼Œä¸“ä¸º ARPG æ¸¸æˆï¼ˆå¦‚ã€Šæš—é»‘ç ´åç¥ 4ã€‹ã€ã€Šæµæ”¾ä¹‹è·¯ 2ã€‹ç­‰ï¼‰è®¾è®¡ã€‚é‡‡ç”¨å…ˆè¿›çš„**äº‹ä»¶é©±åŠ¨æ¶æ„**å’Œ**é›¶æ‹·è´å±å¹•æ•è·æŠ€æœ¯**ï¼Œæä¾›æ¯«ç§’çº§å“åº”çš„æŠ€èƒ½å¾ªç¯è‡ªåŠ¨åŒ–ã€æ™ºèƒ½è¯å‰‚ç®¡ç†ï¼ˆæ”¯æŒåŒè‰²æ£€æµ‹ï¼‰ã€è£…å¤‡è¯ç¼€æ´—ç»ƒã€è‡ªåŠ¨å¯»è·¯å’Œçƒ­é”®ç®¡ç†ç­‰åŠŸèƒ½ã€‚é¡¹ç›®é‡‡ç”¨ç°ä»£åŒ–çš„åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œé›†æˆæŠ€èƒ½ä¼˜å…ˆçº§ç³»ç»Ÿï¼Œç¡®ä¿å“è¶Šçš„æ€§èƒ½è¡¨ç°å’Œç”¨æˆ·ä½“éªŒã€‚

## é¡¹ç›®æ¦‚è¿°

**pyahk** æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ARPGæ¸¸æˆè‡ªåŠ¨åŒ–è¾…åŠ©å·¥å…·ï¼Œç”±Pythonä¸C++åˆä½œå¼€å‘ã€‚é¡¹ç›®é¢å‘ã€Šæš—é»‘ç ´åç¥4ã€‹ã€ã€Šæµæ”¾ä¹‹è·¯2ã€‹ç­‰ç°ä»£ARPGæ¸¸æˆè®¾è®¡ï¼Œæä¾›æ¯«ç§’çº§çš„é«˜æ€§èƒ½æ¸¸æˆæ“ä½œè‡ªåŠ¨åŒ–ã€‚

ä¸ä¼ ç»Ÿçš„AutoHotkeyè„šæœ¬ç›¸æ¯”ï¼Œpyahké‡‡ç”¨ç°ä»£åŒ–çš„æŠ€æœ¯æ¶æ„ï¼š

- **äº‹ä»¶é©±åŠ¨æ¶æ„**ï¼šæ‰€æœ‰ç»„ä»¶é€šè¿‡ä¸­å¤®äº‹ä»¶æ€»çº¿è¿›è¡Œé€šä¿¡ï¼Œå®ç°é«˜åº¦è§£è€¦
- **é›¶æ‹·è´æ•è·æŠ€æœ¯**ï¼šåŸºäºWindows Graphics Capture APIçš„C++åº•å±‚å®ç°ï¼Œæå¤§é™ä½æ€§èƒ½å¼€é”€
- **ç»Ÿä¸€è°ƒåº¦å™¨**ï¼šå–ä»£ä¼ ç»Ÿå¤šçº¿ç¨‹æ¨¡å‹ï¼Œæä¾›æ›´ç²¾ç¡®çš„å®šæ—¶ä»»åŠ¡ç®¡ç†
- **æ¨¡å—åŒ–è®¾è®¡**ï¼šæ¸…æ™°çš„åŠŸèƒ½åˆ†ç¦»ï¼Œæ˜“äºç»´æŠ¤å’Œæ‰©å±•

## é¡¹ç›®å…¥å£

pyahkæä¾›ä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼š

1. **GUIç‰ˆæœ¬** (`main.py`)ï¼šå®Œæ•´çš„å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼Œæ”¯æŒæ‰€æœ‰åŠŸèƒ½æ¨¡å—çš„å¯è§†åŒ–é…ç½®å’Œæ§åˆ¶
2. **å‘½ä»¤è¡Œç‰ˆæœ¬** (`main_special.py`)ï¼šè½»é‡çº§ç‰ˆæœ¬ï¼Œä¸“æ³¨äºç‰¹å®šæ¸¸æˆåœºæ™¯çš„è‡ªåŠ¨åŒ–ä»»åŠ¡

## æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§

- **é›¶æ‹·è´å±å¹•æ•è·æŠ€æœ¯**: åˆ©ç”¨ç°ä»£Windows Graphics Capture APIå’ŒC++åº•å±‚å®ç°ï¼ŒPythonå±‚é€šè¿‡ctypesç›´æ¥è®¿é—®å¸§æ•°æ®ï¼Œé¿å…å†…å­˜æ‹·è´å¼€é”€ï¼Œç¡®ä¿æ¯«ç§’çº§å“åº”é€Ÿåº¦
- **äº‹ä»¶é©±åŠ¨æ¶æ„**: ç³»ç»Ÿæ ¸å¿ƒç»„ä»¶é€šè¿‡ä¸­å¤®äº‹ä»¶æ€»çº¿(EventBus)è¿›è¡Œé€šä¿¡ï¼Œå®ç°å®Œå…¨è§£è€¦ï¼Œæå¤§æé«˜ä»£ç å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§
- **ç»Ÿä¸€è°ƒåº¦å™¨**: åŸºäºheapqçš„å•çº¿ç¨‹è°ƒåº¦å™¨ï¼Œç®¡ç†æ‰€æœ‰å®šæ—¶ä»»åŠ¡ï¼Œå–ä»£ä¼ ç»Ÿå¤šçº¿ç¨‹æ¨¡å‹ï¼Œæ˜¾è‘—é™ä½èµ„æºå¼€é”€å¹¶æé«˜è®¡æ—¶ç²¾åº¦
- **æ™ºèƒ½è¯å‰‚ç®¡ç†**: é‡‡ç”¨å…ˆè¿›çš„HSVåŒè‰²æ£€æµ‹ç®—æ³•ï¼Œæ”¯æŒæ­£å¸¸/ä¸­æ¯’çŠ¶æ€æ™ºèƒ½è¯†åˆ«ï¼Œæ”¯æŒHP/MPçš„ç²¾ç¡®æ£€æµ‹å’Œè‡ªåŠ¨å–‚è¯åŠŸèƒ½ï¼Œå†…ç½®1080Pä¼˜åŒ–é…ç½®ï¼Œæ”¯æŒå†…éƒ¨å†·å´æœºåˆ¶é˜²æ­¢è¯æ°´æµªè´¹
- **è£…å¤‡è¯ç¼€æ´—ç»ƒ**: ç‹¬ç«‹çš„F7çƒ­é”®æ§åˆ¶æ¨¡å—ï¼Œé‡‡ç”¨ä¸‰çŠ¶æ€æ™ºèƒ½è¯†åˆ«ï¼Œé€šè¿‡PaddleOCRè¿›è¡Œè¯ç¼€è¯†åˆ«ï¼Œæ”¯æŒå®æ—¶OSDåé¦ˆ
- **è‡ªåŠ¨å¯»è·¯ä¸æ¢ç´¢**: é‡‡ç”¨ç›¸ä½ç›¸å…³ä½ç§»è·Ÿè¸ªå’ŒA*ç®—æ³•ï¼Œå®ç°éšæœºåœ°å›¾çš„è‡ªä¸»æ¢ç´¢å’Œç²¾ç¡®è·¯å¾„è§„åˆ’ï¼Œæ”¯æŒåŒæ¨¡å¼è¿è¡Œ
- **æ¨¡å¼äº’æ–¥é€»è¾‘**: ä¸¥æ ¼åŒºåˆ†"æŠ€èƒ½æ¨¡å¼"ã€"æ´—ç»ƒæ¨¡å¼"å’Œ"å¯»è·¯æ¨¡å¼"ï¼Œç¡®ä¿é€»è¾‘æ¸…æ™°ã€è¡Œä¸ºå¯é¢„æµ‹
- **æŠ€èƒ½è§¦å‘ç³»ç»Ÿ**: æ”¯æŒå®šæ—¶(Timer)ã€å†·å´(Cooldown)ä¸æŒ‰ä½(Hold)ã€‚æŒ‰ä½ç”± AHK æœåŠ¡æ‰§è¡Œï¼Œä»…åœ¨çŠ¶æ€åˆ‡æ¢æ—¶ä¸€æ¬¡æ€§æŒ‰/æ”¾ï¼Œä¸è¿›å…¥ä»»ä½•å¾ªç¯æˆ–å®šæ—¶ä»»åŠ¡ã€‚é›†æˆæŠ€èƒ½ä¼˜å…ˆçº§ç³»ç»Ÿï¼Œé«˜ä¼˜å…ˆçº§æŠ€èƒ½åœ¨æ£€æŸ¥å’Œæ‰§è¡Œé˜Ÿåˆ—ä¸­éƒ½äº«æœ‰ä¼˜å…ˆæƒã€‚
- **éŸ³é¢‘åé¦ˆç³»ç»Ÿ**: é€šè¿‡é¢„ç½®éŸ³é¢‘æ–‡ä»¶ä¸ºå¯åŠ¨ã€åœæ­¢ã€æš‚åœå’Œæ¢å¤ç­‰æ“ä½œæä¾›æ— å»¶è¿Ÿå£°éŸ³æç¤º

## æ™ºèƒ½è¯å‰‚åŠ©æ‰‹è¯¦è§£ (å·²å®ç°)

ä¸“ä¸º ARPG æ¸¸æˆè®¾è®¡çš„æ™ºèƒ½è¯å‰‚ç®¡ç†ç³»ç»Ÿï¼Œé‡‡ç”¨èŒè´£æ¸…æ™°çš„**ä¸‰å±‚å§”æ‰˜æ¶æ„**ï¼Œå®ç°äº†ç²¾ç¡®çš„è¡€è“æ¡æ£€æµ‹å’Œè‡ªåŠ¨å–è¯åŠŸèƒ½ã€‚è¯¥ç³»ç»Ÿå°†è°ƒåº¦ã€ä¸šåŠ¡é€»è¾‘å’Œåº•å±‚æ£€æµ‹å®Œå…¨åˆ†ç¦»ï¼Œç¡®ä¿äº†ä»£ç çš„é«˜åº¦å¯ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§ã€‚

### æ ¸å¿ƒæŠ€æœ¯æ–¹æ¡ˆï¼šä¸‰å±‚å§”æ‰˜æ¶æ„

è¯å‰‚çš„æ£€æµ‹å’Œæ‰§è¡Œæµç¨‹è´¯ç©¿ä¸‰ä¸ªæ ¸å¿ƒæ¨¡å—ï¼Œæ¯ä¸€å±‚éƒ½åªè´Ÿè´£è‡ªå·±çš„æ ¸å¿ƒèŒè´£ï¼Œå¹¶å°†å…¶ä»–ä»»åŠ¡å§”æ‰˜ç»™ä¸‹ä¸€å±‚ã€‚

#### ç¬¬ 1 å±‚: `SkillManager` (è°ƒåº¦å±‚)

`SkillManager` ä½œä¸ºé¡¶å±‚çš„è°ƒåº¦ä¸­å¿ƒï¼Œå®ƒä¸å…³å¿ƒè¯å‰‚çš„å…·ä½“é€»è¾‘ã€‚å®ƒåªè´Ÿè´£é€šè¿‡å…¶å†…éƒ¨çš„ `UnifiedScheduler`ï¼ŒæŒ‰å›ºå®šçš„æ—¶é—´é—´éš”ï¼ˆä¾‹å¦‚200msï¼‰å¯åŠ¨ä¸€ä¸ªåä¸º `check_resources` çš„ä»»åŠ¡ã€‚

#### ç¬¬ 2 å±‚: `ResourceManager` (ä¸šåŠ¡é€»è¾‘å±‚)

`ResourceManager` æ˜¯è¯å‰‚åŠŸèƒ½çš„"å¤§è„‘"ï¼Œè´Ÿè´£æ‰€æœ‰ä¸šåŠ¡é€»è¾‘ã€‚å®ƒæ˜¯ä¸€ä¸ªè¢«åŠ¨çš„ã€æ— ç‹¬ç«‹çº¿ç¨‹çš„æ¨¡å—ã€‚

1.  **æ¥æ”¶è°ƒåº¦**: æ¥æ”¶ `SkillManager` çš„è°ƒç”¨å’Œå¸§æ•°æ®ã€‚
2.  **ç®¡ç†å†·å´**: æ£€æŸ¥è¯å‰‚è‡ªèº«çš„å†…éƒ¨å†·å´æ—¶é—´ï¼ˆ`_check_internal_cooldown`ï¼‰ï¼Œé˜²æ­¢æµªè´¹ã€‚
3.  **å†³ç­–**: åˆ¤æ–­æ˜¯å¦éœ€è¦ä½¿ç”¨è¯å‰‚ï¼ˆ`_should_use_hp_resource`ï¼‰ã€‚
4.  **å§”æ‰˜æ£€æµ‹**: å½“éœ€è¦åˆ¤æ–­è¡€é‡/è“é‡æ˜¯å¦ä½äºé˜ˆå€¼æ—¶ï¼Œå®ƒ**ä¸ä¼šè‡ªå·±è¿›è¡Œå›¾åƒè®¡ç®—**ï¼Œè€Œæ˜¯å°†è¿™ä¸ªä»»åŠ¡å†æ¬¡å§”æ‰˜ç»™åº•å±‚çš„ `BorderFrameManager`ã€‚

#### ç¬¬ 3 å±‚: `BorderFrameManager` (ç»Ÿä¸€æ£€æµ‹å±‚)

`BorderFrameManager` æ˜¯æ‰€æœ‰å›¾åƒæ¯”å¯¹åŠŸèƒ½çš„**ç»Ÿä¸€æ£€æµ‹æ ¸å¿ƒ**ã€‚å®ƒæä¾›äº†ä¸€ä¸ªåä¸º `compare_cooldown_image` çš„é€šç”¨æ¥å£ã€‚

1.  **æ¥æ”¶è¯·æ±‚**: æ¥æ”¶æ¥è‡ª `ResourceManager`ï¼ˆè¯å‰‚æ£€æµ‹ï¼‰æˆ– `SkillManager`ï¼ˆæŠ€èƒ½å†·å´æ£€æµ‹ï¼‰çš„è°ƒç”¨ã€‚
2.  **æ™ºèƒ½è·¯ç”±**: è¯¥æ–¹æ³•å†…éƒ¨é€šè¿‡æ£€æŸ¥ä¼ å…¥çš„ `skill_name` å‚æ•°æ¥åŒºåˆ†ä»»åŠ¡ç±»å‹ã€‚å¦‚æœåç§°æ˜¯ `"hp_region"` æˆ– `"mp_region"`ï¼Œå®ƒå°±è°ƒç”¨è¯å‰‚æ£€æµ‹çš„ä¸“ç”¨ç®—æ³•ï¼›å¦åˆ™ï¼Œæ‰§è¡ŒæŠ€èƒ½å†·å´çš„RGBæ¯”å¯¹ç®—æ³•ã€‚
3.  **æ‰§è¡Œæ£€æµ‹**: è°ƒç”¨å†…éƒ¨ç§æœ‰çš„ `_compare_resource_hsv` æ–¹æ³•ï¼Œè¯¥æ–¹æ³•è´Ÿè´£æ‰§è¡ŒçœŸæ­£çš„ **HSV æ¨¡æ¿åŒ¹é…** ç®—æ³•ï¼Œæ¯”è¾ƒå½“å‰å¸§ä¸F8å‡†å¤‡æ—¶ç¼“å­˜çš„HSVæ¨¡æ¿ï¼Œå¹¶è¿”å›åŒ¹é…åº¦ã€‚

### æŠ€æœ¯äº®ç‚¹

#### 1. æ¸…æ™°çš„åˆ†å±‚å§”æ‰˜æ¶æ„
- **èŒè´£å•ä¸€**: `SkillManager` åªç®¡è°ƒåº¦ï¼Œ`ResourceManager` åªç®¡ä¸šåŠ¡ï¼Œ`BorderFrameManager` åªç®¡æ£€æµ‹ã€‚ä»£ç æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤ã€‚
- **é«˜åº¦è§£è€¦**: ä»»ä½•ä¸€å±‚çš„å†…éƒ¨å®ç°ï¼ˆä¾‹å¦‚`BorderFrameManager`æœªæ¥æ”¹ç”¨æ›´å…ˆè¿›çš„ç®—æ³•ï¼‰éƒ½ä¸ä¼šå½±å“åˆ°ä¸Šå±‚æ¨¡å—çš„æ¥å£å’Œè°ƒç”¨æ–¹å¼ã€‚

#### 2. ç»Ÿä¸€è°ƒåº¦ä¸è¢«åŠ¨æ‰§è¡Œ
- **æ— ç‹¬ç«‹çº¿ç¨‹**: `ResourceManager` æ˜¯ä¸€ä¸ªè¢«åŠ¨æ¨¡å—ï¼Œä¸åˆ›å»ºè‡ªå·±çš„çº¿ç¨‹ï¼Œç”± `SkillManager` çš„ç»Ÿä¸€è°ƒåº¦å™¨é©±åŠ¨ï¼Œä»æ ¹æºä¸Šé¿å…äº†å¤šçº¿ç¨‹çš„å¤æ‚æ€§å’Œèµ„æºç«äº‰ã€‚
- **å¸§å¤ç”¨**: `SkillManager` åœ¨æ¯æ¬¡è°ƒåº¦å¾ªç¯å¼€å§‹æ—¶è·å–ä¸€æ¬¡å±å¹•å¸§ï¼Œç„¶åå°†è¿™ä¸ªå¸§æ•°æ®ä¼ é€’ç»™æ‰€æœ‰éœ€è¦å®ƒçš„æ¨¡å—ï¼Œé¿å…äº†é‡å¤æˆªå›¾çš„æ€§èƒ½å¼€é”€ã€‚

#### 3. ç»Ÿä¸€æ£€æµ‹æ ¸å¿ƒ
- **ä»£ç å¤ç”¨**: æŠ€èƒ½å†·å´å’Œè¯å‰‚æ£€æµ‹å…±äº«åŒä¸€ä¸ªåº•å±‚å…¥å£ (`compare_cooldown_image`) å’ŒåŒä¸€å¥—æ¨¡æ¿ç¼“å­˜ç³»ç»Ÿï¼Œæœ€å¤§åŒ–äº†ä»£ç å¤ç”¨ã€‚
- **æ˜“äºæ‰©å±•**: æœªæ¥å¦‚æœéœ€è¦æ·»åŠ æ–°çš„æ£€æµ‹ç±»å‹ï¼ˆä¾‹å¦‚"æ€’æ°”"æ£€æµ‹ï¼‰ï¼Œåªéœ€åœ¨ `BorderFrameManager` çš„è·¯ç”±é€»è¾‘ä¸­å¢åŠ ä¸€ä¸ªæ–°çš„åˆ†æ”¯ï¼Œè€Œæ— éœ€ä¿®æ”¹ä¸Šå±‚ä¸šåŠ¡ä»£ç ã€‚

### åŠŸèƒ½ç‰¹æ€§

#### 1. ç°ä»£åŒ–é…ç½®ç•Œé¢
- **ç‹¬ç«‹ TAB é¡µ**ï¼šä¸“é—¨çš„"æ™ºèƒ½è¯å‰‚"é…ç½®æ ‡ç­¾é¡µ
- **HP/MP åˆ†ç¦»é…ç½®**ï¼šè¡€è¯å’Œè“è¯å®Œå…¨ç‹¬ç«‹çš„é…ç½®åŒºåŸŸ
- **1080P é»˜è®¤å€¼**ï¼šé’ˆå¯¹ 1080P å±å¹•ä¼˜åŒ–çš„é»˜è®¤åæ ‡å’Œé¢œè‰²å€¼
- **å…¨å±€è®¾ç½®**ï¼šå¯é…ç½®çš„æ£€æµ‹é—´éš”(50-1000ms)ï¼Œé»˜è®¤ 200ms

#### 2. é»˜è®¤é…ç½®ä¼˜åŒ– (1080P)
```
# è¡€è¯é»˜è®¤é…ç½®
hp_defaults = {
    "region": (136, 910, 213, 1004),    # 1080Pè¡€æ¡åŒºåŸŸ
    "hsv": (314, 75, 29),               # è¡€è¯é¢œè‰²HSV
    "tolerance": (10, 20, 20),          # é¢œè‰²å®¹å·®
    "threshold": 50,                    # 50%è§¦å‘é˜ˆå€¼
    "cooldown": 5000,                   # 5ç§’å†·å´
    "key": "1"                          # é»˜è®¤æŒ‰é”®
}

# è“è¯é»˜è®¤é…ç½®
mp_defaults = {
    "region": (1552, 910, 1560, 1004), # 1080Pè“æ¡åŒºåŸŸ
    "hsv": (208, 80, 58),               # è“è¯é¢œè‰²HSV
    "tolerance": (7, 5, 5),             # æ›´ä¸¥æ ¼çš„å®¹å·®
    "threshold": 50,                    # 50%è§¦å‘é˜ˆå€¼
    "cooldown": 8000,                   # 8ç§’å†·å´
    "key": "2"                          # é»˜è®¤æŒ‰é”®
}
```

#### 3. åŒºåŸŸé€‰æ‹©ä¸é¢œè‰²æ‹¾å–å·¥å…·
- **ç•Œé¢éšè—**: ç‚¹å‡»"ğŸ“¦ é€‰æ‹©åŒºåŸŸ"æˆ–"ğŸ¨ æ‹¾å–é¢œè‰²"æ—¶ä¸»ç•Œé¢è‡ªåŠ¨éšè—ï¼Œæä¾›å…¨å±æ“ä½œä½“éªŒã€‚
- **å¯è§†åŒ–æ“ä½œ**: æ”¯æŒæ‹–æ‹½é€‰æ‹©åŒºåŸŸã€æ”¾å¤§é•œåƒç´ æ‹¾å–ã€å®æ—¶HSVå€¼æ˜¾ç¤ºç­‰åŠŸèƒ½ã€‚

#### 4. æˆ˜æ–—æ¨¡å¼é›†æˆ
- **F8 å¯åŠ¨**: æŒ‰ F8 è¿›å…¥æˆ˜æ–—æ¨¡å¼ï¼Œ`SkillManager` çš„è°ƒåº¦å™¨å¯åŠ¨ï¼Œè¯å‰‚æ£€æµ‹ä»»åŠ¡è‡ªåŠ¨å¼€å§‹ã€‚
- **çŠ¶æ€åŒæ­¥**: ä¸æˆ˜æ–—ç³»ç»Ÿå®Œå…¨åŒæ­¥ï¼Œæ”¯æŒæš‚åœ/æ¢å¤ã€‚

## è‡ªåŠ¨å¯»è·¯åŠŸèƒ½è¯¦è§£ (å·²å®ç°)

æœ¬é¡¹ç›®çš„é«˜çº§åŠŸèƒ½ï¼Œæ—¨åœ¨å®ç°å¯¹éšæœºç”Ÿæˆåœ°å›¾ï¼ˆå¦‚ã€Šæš—é»‘ç ´åç¥4ã€‹çš„åœ°ç‰¢ï¼‰çš„è‡ªä¸»æ¢ç´¢å’Œè·¯å¾„è§„åˆ’ã€‚è¯¥åŠŸèƒ½é‡‡ç”¨**æ–°æ¶æ„è®¾è®¡**ï¼Œé€šè¿‡ **F9** çƒ­é”®å‡†å¤‡å¯»è·¯æ¨¡å¼ï¼Œ**Z** é”®æ‰§è¡Œå¯»è·¯ä»»åŠ¡ã€‚ç›®å‰å·²å®Œæˆä¸‰ä¸ªé˜¶æ®µçš„å…¨é¢å®ç°ã€‚

å…¶æ ¸å¿ƒæŠ€æœ¯æ–¹æ¡ˆåˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼š

### ç¬¬ä¸€é˜¶æ®µï¼šåœ°å›¾è§£è¯»ä¸æ‹¼æ¥ (å·²å®ç°)

æ­¤é˜¶æ®µçš„ç›®æ ‡æ˜¯å°†æ¸¸æˆå°åœ°å›¾çš„åƒç´ å›¾åƒï¼Œç¿»è¯‘å¹¶æ‹¼æ¥æˆä¸€å¼ ç¨‹åºå¯ä»¥ç†è§£çš„ã€æŒä¹…åŒ–çš„å…¨å±€åœ°å›¾ã€‚

1.  **è·¯å¾„æå–**: ç¨‹åºåˆ©ç”¨ `OpenCV` å¯¹å°åœ°å›¾æˆªå›¾è¿›è¡Œ**é¢œè‰²è¿‡æ»¤**ã€‚é€šè¿‡`cv2.cvtColor`è½¬ä¸ºç°åº¦å›¾åï¼Œä½¿ç”¨`cv2.threshold`å°†å°åœ°å›¾ä¸­é¢œè‰²è¾ƒäº®çš„ã€å¯é€šè¡Œçš„è·¯å¾„åŒºåŸŸæå–å‡ºæ¥ï¼Œç”Ÿæˆä¸€å¼ åªåŒ…å«è·¯å¾„çš„äºŒå€¼åŒ–"è’™ç‰ˆ"ï¼ˆMaskï¼‰ã€‚è¿™ä¸€æ­¥ç›´æ¥è¿‡æ»¤æ‰äº†åœ°å›¾èƒŒæ™¯ã€æ€ªç‰©æ ‡è®°ç­‰æ‰€æœ‰åŠ¨æ€"å™ªéŸ³"ã€‚
2.  **å›¾åƒä¼˜åŒ–**: ä¸ºäº†è®©è·¯å¾„æ•°æ®æ›´å¯é ï¼Œä¼šä½¿ç”¨`cv2.morphologyEx`å’Œ"é—­è¿ç®—"(`MORPH_CLOSE`)ã€"å¼€è¿ç®—"(`MORPH_OPEN`)æ¥å¡«è¡¥è·¯å¾„çº¿æ¡ä¸­çš„å¾®å°æ–­è£‚ï¼Œå¹¶ç§»é™¤å­¤ç«‹çš„å™ªç‚¹ï¼Œå¾—åˆ°ä¸€å¼ å¹²å‡€ã€å®Œæ•´çš„è·¯å¾„å›¾ã€‚
3.  **åœ°å›¾ä½ç§»è¿½è¸ª**: ç”±äºæ¸¸æˆå°åœ°å›¾æ˜¯"ç©å®¶åœ¨ä¸­å¿ƒï¼Œåœ°å›¾ç§»åŠ¨"çš„æ¨¡å¼ï¼Œç¨‹åºä¼šå¯¹æ¯”**è¿ç»­ä¸¤å¸§**çš„"çº¯å‡€è·¯å¾„å›¾"ï¼Œä½¿ç”¨`cv2.phaseCorrelate`ï¼ˆç›¸ä½ç›¸å…³ï¼‰æŠ€æœ¯ï¼Œç²¾ç¡®è®¡ç®—å‡ºåœ°å›¾æ»šåŠ¨çš„åƒç´ ä½ç§»`(dx, dy)`ã€‚
4.  **å…¨å±€åœ°å›¾æ‹¼æ¥**: ç¨‹åºåœ¨å†…å­˜ä¸­ç»´æŠ¤ä¸€å¼ å·¨å¤§çš„"å…¨å±€åœ°å›¾"ï¼ˆå¦‚5000x5000çš„`numpy`æ•°ç»„ï¼‰ã€‚æ ¹æ®è®¡ç®—å‡ºçš„ä½ç§»ï¼Œå®ƒå°±èƒ½åæ¨å‡ºç©å®¶åœ¨å…¨å±€åœ°å›¾ä¸Šçš„ç»å¯¹åæ ‡ï¼Œå¹¶å°†å½“å‰çœ‹åˆ°çš„æ–°è·¯å†µï¼Œé€šè¿‡`cv2.add`æ“ä½œ"æ‹¼æ¥"åˆ°å…¨å±€åœ°å›¾çš„æ­£ç¡®ä½ç½®ä¸Šï¼Œåƒæ‹¼å›¾ä¸€æ ·ï¼Œé€æ­¥æ‰©å¤§å·²æ¢ç´¢çš„åŒºåŸŸã€‚

### ç¬¬äºŒé˜¶æ®µï¼šæ¢ç´¢ä¸è·¯å¾„è§„åˆ’ (å·²å®ç°)

åœ¨æ‹¥æœ‰äº†ç»˜åˆ¶åœ°å›¾çš„èƒ½åŠ›åï¼Œç¨‹åºéœ€è¦ä¸€ä¸ªç­–ç•¥æ¥æ¢ç´¢æœªçŸ¥åŒºåŸŸã€‚

1.  **"Zå­—å½¢/é™¤è‰æœº"æ¢ç´¢ç®—æ³•**: åœ¨æ²¡æœ‰æœ€ç»ˆç›®æ ‡çš„æƒ…å†µä¸‹ï¼Œç¨‹åºé‡‡ç”¨ä¸€ç§ç³»ç»Ÿæ€§çš„'é™¤è‰æœº'ç®—æ³•æ¥éå†åœ°å›¾ã€‚å®ƒä¼šæ§åˆ¶è§’è‰²æ²¿ä¸€ä¸ªæ–¹å‘ï¼ˆå¦‚"å³"ï¼‰æŒç»­ç§»åŠ¨ï¼Œç›´åˆ°åœ¨**å·²æ‹¼æ¥çš„å…¨å±€åœ°å›¾**ä¸Šæ¢æµ‹åˆ°å‰æ–¹æœ‰éšœç¢ç‰©ã€‚ç„¶åï¼Œè§’è‰²ä¼šå‘ä¸‹ç§»åŠ¨ä¸€å°æ®µå›ºå®šè·ç¦»ï¼Œå¹¶æ‰è½¬æ–¹å‘ï¼ˆå˜ä¸º"å·¦"ï¼‰ç»§ç»­ç§»åŠ¨ï¼Œå¦‚æ­¤å¾€å¤ï¼Œç¡®ä¿ä»¥Zå­—å½¢è·¯å¾„å®Œæ•´åœ°è¦†ç›–æ‰€æœ‰å¯æ¢ç´¢åŒºåŸŸï¼Œé¿å…èµ°å›å¤´è·¯ã€‚
2.  **A\*å¯»è·¯ (å·²å®ç°)**: ä¸€æ—¦ç›®æ ‡ï¼ˆå¦‚å‡ºå£çš„ç‹¬ç‰¹å›¾æ ‡ï¼‰å‡ºç°åœ¨è§†é‡ä¸­ï¼Œå¹¶è¢«è®°å½•åˆ°å…¨å±€åœ°å›¾ä¸Šåï¼Œç¨‹åºå°†ç«‹å³åœæ­¢æ¢ç´¢ï¼Œå¹¶åœ¨å·²æ‹¼æ¥çš„å…¨å±€åœ°å›¾ä¸Šè¿è¡Œ **A\*** ç®—æ³•ï¼Œè§„åˆ’å‡ºä»ç©å®¶å½“å‰ä½ç½®åˆ°ç›®æ ‡çš„**æœ€ä¼˜è·¯å¾„**ã€‚å®ç°äº†å®Œæ•´çš„è·¯å¾„è§„åˆ’ã€è·¯ç‚¹è·Ÿéšå’Œæ¨¡å¼åˆ‡æ¢é€»è¾‘ã€‚

### ç¬¬ä¸‰é˜¶æ®µï¼šå¯»è·¯æ‰§è¡Œ (å·²å®ç°)

æ­¤é˜¶æ®µçš„ç›®æ ‡æ˜¯æ§åˆ¶è§’è‰²ï¼Œç²¾å‡†åœ°æ²¿ç€è§„åˆ’å¥½çš„è·¯å¾„ç§»åŠ¨ã€‚

1.  **æ–¹å‘å‘é‡**: å› ä¸ºç©å®¶æ°¸è¿œåœ¨å°åœ°å›¾ä¸­å¿ƒï¼Œæ‰€ä»¥è·¯å¾„ä¸Šçš„ä»»ä½•ä¸€ä¸ªè·¯ç‚¹ï¼ˆWaypointï¼‰éƒ½å¤©ç„¶åœ°ä»£è¡¨äº†ä¸€ä¸ªä»ç©å®¶å‡ºå‘çš„**æ–¹å‘å‘é‡**ã€‚
2.  **è·¯ç‚¹è·Ÿéš**: å®ç°äº†å®Œæ•´çš„è·¯ç‚¹è·Ÿéšç®—æ³•ï¼Œæ”¯æŒç²¾ç¡®çš„è·ç¦»åˆ¤æ–­å’Œè·¯ç‚¹åˆ‡æ¢ã€‚ç¨‹åºä¼šæ ¹æ®å½“å‰ä½ç½®ä¸ç›®æ ‡è·¯ç‚¹çš„è·ç¦»ï¼Œè®¡ç®—ç²¾ç¡®çš„æ–¹å‘å‘é‡ï¼Œå¹¶åœ¨æ¸¸æˆä¸»å±å¹•çš„ç›¸åº”ä½ç½®æ¨¡æ‹Ÿé¼ æ ‡ç‚¹å‡»ï¼Œé©±åŠ¨è§’è‰²æ²¿ç€A*è§„åˆ’çš„æœ€ä¼˜è·¯å¾„ç²¾ç¡®ç§»åŠ¨ã€‚åŒæ—¶æ”¯æŒæš‚åœ/æ¢å¤åŠŸèƒ½å’Œæ¨¡å¼æ™ºèƒ½åˆ‡æ¢ã€‚
3.  **ç§»åŠ¨æ‰§è¡Œ**: ä½¿ç”¨InputHandlerçš„click_mouse_atæ–¹æ³•åœ¨å±å¹•åæ ‡(960, 540)ä¸ºä¸­å¿ƒï¼Œæ ¹æ®è®¡ç®—å‡ºçš„æ–¹å‘å‘é‡å’Œè·ç¦»(150åƒç´ )ç¡®å®šç‚¹å‡»ä½ç½®ï¼Œå®ç°ç²¾ç¡®çš„è§’è‰²ç§»åŠ¨æ§åˆ¶ã€‚

## æŠ€èƒ½é…ç½®ç³»ç»Ÿä¼˜åŒ– (å·²å®Œæˆ)

ä¸ºäº†æé«˜ç³»ç»Ÿçš„å‡†ç¡®æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œæˆ‘ä»¬å¯¹æŠ€èƒ½é…ç½®ç³»ç»Ÿè¿›è¡Œäº†å…¨é¢çš„æ¸…ç†å’Œä¼˜åŒ–ï¼š

### è§¦å‘æ¨¡å¼è¯´æ˜

- ç°æ”¯æŒä¸‰ç§å®é™…å·¥ä½œçš„è§¦å‘æ¨¡å¼ï¼š
  - `TriggerMode = 0`: å®šæ—¶æ¨¡å¼ï¼ˆTimerï¼‰- åŸºäºå›ºå®šæ—¶é—´é—´éš”æ‰§è¡ŒæŠ€èƒ½
  - `TriggerMode = 1`: å†·å´æ¨¡å¼ï¼ˆCooldownï¼‰- åŸºäºæŠ€èƒ½å›¾æ ‡å†·å´çŠ¶æ€æ‰§è¡ŒæŠ€èƒ½
  - `TriggerMode = 2`: æŒ‰ä½æ¨¡å¼ï¼ˆHoldï¼‰- è¿›å…¥è¿è¡ŒçŠ¶æ€æ—¶ä¸€æ¬¡æ€§æŒ‰ä¸‹ï¼›æš‚åœ/åœæ­¢æ—¶ä¸€æ¬¡æ€§é‡Šæ”¾ï¼Œç”± AHK æœåŠ¡æ‰§è¡Œ
- è¯´æ˜ï¼šæŒ‰ä½æ¨¡å¼ä¸å‚ä¸ä»»ä½•å¾ªç¯æˆ–å®šæ—¶ä»»åŠ¡ï¼Œä»…ç”± SkillManager åœ¨çŠ¶æ€åˆ‡æ¢ä¸é…ç½®å˜æ›´æ—¶ä¸€æ¬¡æ€§è§¦å‘ã€‚

### æŠ€èƒ½ä¼˜å…ˆçº§ç³»ç»Ÿ

- **åŒé‡ä¼˜å…ˆçº§æœºåˆ¶**: æŠ€èƒ½ç³»ç»Ÿå®ç°äº†å®Œæ•´çš„ä¼˜å…ˆçº§å¤„ç†ï¼Œç¡®ä¿æ ¸å¿ƒæŠ€èƒ½ä¼˜å…ˆæ‰§è¡Œ
  - **æ£€æŸ¥ä¼˜å…ˆçº§**: é«˜ä¼˜å…ˆçº§æŠ€èƒ½åœ¨å†·å´æ£€æµ‹æ—¶ä¼˜å…ˆæ£€æŸ¥å’Œæ‰§è¡Œ
  - **é˜Ÿåˆ—ä¼˜å…ˆçº§**: é«˜ä¼˜å…ˆçº§æŠ€èƒ½çš„æŒ‰é”®ä¼šè¢«æ’å…¥åˆ°è¾“å…¥é˜Ÿåˆ—çš„æœ€å‰ç«¯ï¼Œç¡®ä¿ç«‹å³æ‰§è¡Œ
- **ä¼˜å…ˆçº§å­—æ®µ**: `Priority: true/false` - æ§åˆ¶æŠ€èƒ½çš„æ‰§è¡Œä¼˜å…ˆçº§
- **åº”ç”¨åœºæ™¯**: æ ¸å¿ƒè¾“å‡ºæŠ€èƒ½è®¾ä¸ºé«˜ä¼˜å…ˆçº§ï¼Œç¡®ä¿åœ¨å…³é”®æ—¶åˆ»ä¼˜å…ˆé‡Šæ”¾

### é…ç½®åˆ†ç¦»ä¼˜åŒ–

- **Resource é…ç½®ç‹¬ç«‹**: æ™ºèƒ½è¯å‰‚åŠŸèƒ½çš„é…ç½®å®Œå…¨ç‹¬ç«‹äºæŠ€èƒ½é…ç½®
- **UI ç•Œé¢åˆ†ç¦»**: æŠ€èƒ½é…ç½®ç•Œé¢ç§»é™¤äº† resource ç›¸å…³å­—æ®µï¼Œæ·»åŠ å‹å¥½æç¤ºæŒ‡å‘"æ™ºèƒ½è¯å‰‚"æ ‡ç­¾é¡µ
- **é…ç½®ç»“æ„æ¸…æ™°**: é¿å…äº†é…ç½®æ··ä¹±å’Œå­—æ®µå†²çª

### ä»£ç æ¸…ç†æˆæœ

```
# ä¼˜åŒ–åçš„æŠ€èƒ½é…ç½®ç»“æ„
{
  "Enabled": true,
  "Priority": false,    // é«˜ä¼˜å…ˆçº§ï¼šæ£€æŸ¥ä¼˜å…ˆ + é˜Ÿåˆ—å‰ç«¯æ’å…¥
  "Timer": 1000,
  "TriggerMode": 0,     // 0=å®šæ—¶, 1=å†·å´, 2=æŒ‰ä½(Hold, ä»…ä¸€æ¬¡æ€§æŒ‰/æ”¾)
  "CooldownCoordX": 0,
  "CooldownCoordY": 0,
  "CooldownSize": 12,
  "ExecuteCondition": 0,
  "AltKey": ""
}
```

### ç”¨æˆ·ä½“éªŒæ”¹è¿›

- **é…ç½®æ›´å‡†ç¡®**: ä¸ä¼šäº§ç”Ÿæ— æ•ˆçš„é…ç½®é¡¹
- **ç•Œé¢æ›´æ¸…æ™°**: åªæ˜¾ç¤ºå®é™…å¯ç”¨çš„é€‰é¡¹
- **ç»´æŠ¤æ›´å®¹æ˜“**: å‡å°‘äº†æ··æ·†å’Œé”™è¯¯é…ç½®çš„å¯èƒ½æ€§

## æŒ‰ä½ï¼ˆHoldï¼‰é›†æˆè¯´æ˜

- è®¾è®¡ç›®æ ‡ï¼šåœ¨"å®šæ—¶/å†·å´"ä¹‹å¤–ï¼Œæ–°å¢"æŒ‰ä½"è¿™ä¸€æŒç»­æ€§è¾“å…¥èƒ½åŠ›ï¼Œä½†ä¸è¿›å…¥å¾ªç¯æˆ–å®šæ—¶ä»»åŠ¡ï¼Œä»…åœ¨çŠ¶æ€åˆ‡æ¢æ—¶ä¸€æ¬¡æ€§æ‰§è¡Œã€‚
- UI é…ç½®ï¼šæŠ€èƒ½"è§¦å‘æ–¹å¼"ä¸‹æ‹‰æ¡†åŒ…å« å®šæ—¶/å†·å´/æŒ‰ä½ ä¸‰é¡¹ï¼›é€‰æ‹©æŒ‰ä½æ—¶ä¼šéšè—ä¸ç›¸å…³çš„å®šæ—¶/å†·å´å‚æ•°ã€‚
- æ‰§è¡Œè·¯å¾„ï¼š
  - InputHandlerï¼šä»…å°† hold_key/release_key å§”æ‰˜ç»™ AHKï¼ˆWM_COPYDATAï¼Œçª—å£æ ‡é¢˜é»˜è®¤ä¸º "HoldServer_Window_UniqueName_12345"ï¼›æ”¯æŒç»„åˆé”®å¦‚ "ctrl+shift+w"ï¼‰ã€‚
  - SkillManagerï¼šè´Ÿè´£"æŒ‰ä½"çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†
    - startï¼šå…ˆé‡Šæ”¾æ®‹ç•™ï¼Œå†å¯åŠ¨è°ƒåº¦ï¼Œéšåä¸€æ¬¡æ€§æŒ‰ä½æ‰€æœ‰ TriggerMode=2 çš„æŠ€èƒ½é”®
    - resumeï¼šä¸€æ¬¡æ€§é‡æ–°æŒ‰ä½
    - pause/stopï¼šä¸€æ¬¡æ€§é‡Šæ”¾
    - é…ç½®çƒ­æ›´æ–°ï¼šåœ¨è¿è¡Œä¸”æœªæš‚åœæ—¶ï¼ŒæŒ‰å¢é‡å¯¹é½ï¼ˆæ–°å¢æŒ‰ä½ã€ç§»é™¤é‡Šæ”¾ï¼‰
  - MacroEngineï¼šä¸å†ç›´æ¥å¤„ç†"æŒ‰ä½"ï¼Œé¿å…ä¸ SkillManager é‡å¤ã€‚
- AHK æœåŠ¡ï¼š
  - ä½¿ç”¨ hold_server.ahkï¼ˆå·²ç²¾ç®€ä¸ºä»…å¤„ç† hold/releaseï¼‰ã€‚Python ä¾§é€šè¿‡ WM_COPYDATA å‘é€ "hold:key" / "release:key"ã€‚
  - æœªå®‰è£…/æœªè¿è¡Œ AHK æ—¶ï¼š"æŒ‰ä½"åŠŸèƒ½å¤±æ•ˆï¼ˆå‘é€å¤±è´¥è¿”å› Falseï¼‰ï¼Œå…¶ä»–åŠŸèƒ½ï¼ˆå®šæ—¶ã€å†·å´ã€ç‚¹å‡»ã€å¯»è·¯ã€æ´—ç»ƒã€è¯å‰‚ï¼‰å…¨éƒ¨æ­£å¸¸ã€‚
- ä½¿ç”¨æ­¥éª¤ï¼š
  1) å¯åŠ¨ hold_server.ahkï¼ˆè‹¥è‡ªå®šä¹‰çª—å£åï¼Œè¯·åœ¨ç¨‹åºä¸­è®¾ç½®å¯¹åº”æ ‡é¢˜ï¼‰
  2) åœ¨æŠ€èƒ½é…ç½®ä¸­é€‰æ‹©"æŒ‰ä½"ï¼Œå¹¶å¡«å†™ Keyï¼ˆæ”¯æŒç»„åˆé”®ç”¨"+"è¿æ¥ï¼‰
  3) F8 å‡†å¤‡ â†’ Z è¿è¡Œï¼šä¼šä¸€æ¬¡æ€§æŒ‰ä¸‹ï¼›Z æš‚åœ/åœæ­¢ï¼šä¼šä¸€æ¬¡æ€§é‡Šæ”¾

## æ¶æ„è®¾è®¡

æœ¬å·¥å…·é‡‡ç”¨åˆ†å±‚å’Œæ¨¡å—åŒ–çš„è®¾è®¡ï¼Œå…¶æ ¸å¿ƒç»„ä»¶å’ŒèŒè´£å¦‚ä¸‹ï¼š

- **`MacroEngine` (å®å¼•æ“)**: ä½œä¸ºé¡¹ç›®çš„**çŠ¶æ€ä¸äº‹ä»¶åè°ƒä¸­å¿ƒ**ã€‚å®ƒè´Ÿè´£ç®¡ç†ç¨‹åºçš„æ ¸å¿ƒçŠ¶æ€ï¼Œå¹¶ä½œä¸º**èµ„æºè°ƒåº¦ä¸­å¿ƒ**ï¼Œæ ¹æ®å½“å‰æ¨¡å¼ï¼ˆæˆ˜æ–—ã€æ´—ç»ƒã€å¯»è·¯ï¼‰åŠ¨æ€æŒ‡æŒ¥åº•å±‚æ•è·æ¨¡å—åˆ‡æ¢æœ€é«˜æ•ˆçš„å·¥ä½œæ¨¡å¼ã€‚
- **`SkillManager` (æŠ€èƒ½ç®¡ç†å™¨)**: **æŠ€èƒ½è°ƒåº¦ä¸­å¿ƒ**ã€‚å®ƒåˆ©ç”¨å…¶å†…éƒ¨çš„ `UnifiedScheduler` å®ä¾‹ï¼Œç®¡ç†æ‰€æœ‰æŠ€èƒ½å’Œè¯å‰‚æ£€æµ‹çš„å®šæ—¶ä»»åŠ¡ï¼Œå¹¶ä½œä¸ºé¡¶å±‚åè°ƒè€…ï¼Œå°†è¯å‰‚ç›¸å…³çš„ä¸šåŠ¡é€»è¾‘å§”æ‰˜ç»™ `ResourceManager`ã€‚
- **`SimpleAffixRerollManager` (æ™ºèƒ½æ´—ç»ƒç®¡ç†å™¨)**: **è£…å¤‡æ´—ç»ƒå¼•æ“**ã€‚ä¸€ä¸ªå®Œå…¨ç‹¬ç«‹çš„æ¨¡å—ï¼Œåœ¨è‡ªå·±çš„çº¿ç¨‹ä¸­è¿è¡Œï¼Œè´Ÿè´£æ‰§è¡Œæ‰€æœ‰ä¸è£…å¤‡æ´—ç»ƒç›¸å…³çš„è‡ªåŠ¨åŒ–æµç¨‹ã€‚
- **`PathfindingManager` (å¯»è·¯ç®¡ç†å™¨)**: **è‡ªåŠ¨å¯»è·¯å¼•æ“**ã€‚é‡‡ç”¨ç»Ÿä¸€çŠ¶æ€ç®¡ç†æ¶æ„ï¼Œç”±`MacroEngine`ç»Ÿä¸€è°ƒåº¦å¯åœã€æš‚åœå’Œæ¢å¤ã€‚åœ¨ç‹¬ç«‹çš„çº¿ç¨‹ä¸­è¿è¡Œï¼ŒæŒç»­åœ°ä»`BorderFrameManager`è·å–å±å¹•æ•°æ®ï¼Œé€šè¿‡å›¾åƒå¤„ç†æ¥è§£è¯»å°åœ°å›¾ï¼Œåˆ©ç”¨ç›¸ä½ç›¸å…³æŠ€æœ¯è¿½è¸ªåœ°å›¾ä½ç§»ï¼Œå¹¶å°†æ¢ç´¢åˆ°çš„åœ°å›¾æ‹¼æ¥æˆä¸€å¼ å®Œæ•´çš„å…¨å±€åœ°å›¾ã€‚æ”¯æŒåŒæ¨¡å¼è¿è¡Œï¼ˆæ¢ç´¢æ¨¡å¼å’Œå¯»è·¯æ¨¡å¼ï¼‰ã€å®æ—¶ç›®æ ‡è¯†åˆ«å’Œ A*è·¯å¾„è§„åˆ’ã€‚
- **`InputHandler` (è¾“å…¥å¤„ç†å™¨)**: **è¾“å…¥æ‰§è¡Œä¸é˜Ÿåˆ—ç®¡ç†ä¸­å¿ƒ**ã€‚å®ƒå°è£…äº†é”®ç›˜å’Œé¼ æ ‡çš„æ¨¡æ‹Ÿè¾“å…¥æ“ä½œï¼Œå¹¶ç‹¬ç«‹ç®¡ç†ä¸€ä¸ªæŒ‰é”®é˜Ÿåˆ—ã€‚
- **`UnifiedScheduler` (ç»Ÿä¸€è°ƒåº¦å™¨)**: é¡¹ç›®å®šæ—¶ä»»åŠ¡çš„å¿ƒè„ã€‚ä¸€ä¸ªåŸºäº`heapq`çš„å•çº¿ç¨‹å¾ªç¯ï¼Œèƒ½å¤Ÿé«˜æ•ˆã€ç²¾ç¡®åœ°ç®¡ç†æˆç™¾ä¸Šåƒä¸ªä¸åŒé—´éš”çš„å®šæ—¶ä»»åŠ¡ã€‚
- **`ResourceManager` (èµ„æºç®¡ç†å™¨)**: **è¯å‰‚ä¸šåŠ¡é€»è¾‘æ¨¡å—**ã€‚ä¸€ä¸ªè¢«åŠ¨çš„ã€æ— ç‹¬ç«‹çº¿ç¨‹çš„æ¨¡å—ï¼Œè´Ÿè´£è¯å‰‚çš„**å†·å´ç®¡ç†**å’Œ**æŒ‰é”®æ‰§è¡Œå†³ç­–**ã€‚å®ƒè¢« `SkillManager` è°ƒåº¦ï¼Œå¹¶å°†åº•å±‚çš„å›¾åƒæ£€æµ‹ä»»åŠ¡å§”æ‰˜ç»™ `BorderFrameManager`ã€‚
- **`BorderFrameManager` (è¾¹æ¡†å›¾ç®¡ç†å™¨)**: **ç»Ÿä¸€æ£€æµ‹æ ¸å¿ƒ**ã€‚å®ƒæä¾›ä¸€ä¸ª `compare_cooldown_image` æ¥å£ï¼Œå†…éƒ¨èƒ½å¤Ÿæ™ºèƒ½åŒºåˆ†æŠ€èƒ½å†·å´ï¼ˆRGBæ¯”è¾ƒï¼‰å’Œè¯å‰‚æ£€æµ‹ï¼ˆHSVæ¨¡æ¿åŒ¹é…ï¼‰ï¼Œä¸ºæ‰€æœ‰ä¸Šå±‚æ¨¡å—æä¾›ç»Ÿä¸€çš„ã€å¸¦ç¼“å­˜çš„æ£€æµ‹æœåŠ¡ã€‚
- **`NativeGraphicsCaptureManager` (åŸç”Ÿå›¾å½¢æ•è·ç®¡ç†å™¨)**: å°è£… C++æ•è·åº“ï¼Œæä¾›é«˜æ€§èƒ½çš„å±å¹•æ•è·æœåŠ¡ã€‚æ”¯æŒå…¨å±æˆ–æŒ‡å®šåŒºåŸŸæ•è·ï¼Œé‡‡ç”¨é›¶æ‹·è´æŠ€æœ¯å’Œæ™ºèƒ½å¸§ç‡æ§åˆ¶ã€‚
- **`EventBus` (äº‹ä»¶æ€»çº¿)**: åŸºäºå‘å¸ƒ/è®¢é˜…æ¨¡å¼ï¼Œå®ç°å„æ¨¡å—é—´çš„å¼‚æ­¥é€šä¿¡ï¼Œæ”¯æŒ ThreadPoolExecutor ä¼˜åŒ–çš„äº‹ä»¶å¤„ç†ï¼Œæ˜¯æ•´ä¸ªæ¶æ„çš„ç¥ç»ä¸­æ¢ã€‚åŒ…å«é€’å½’äº‹ä»¶æ£€æµ‹å’Œæ€§èƒ½ç›‘æ§åŠŸèƒ½ã€‚
- **`ConfigManager` (é…ç½®ç®¡ç†å™¨)**: è´Ÿè´£é…ç½®æ–‡ä»¶çš„åŠ è½½ã€ä¿å­˜å’Œç®¡ç†ã€‚æ”¯æŒ JSON æ ¼å¼é…ç½®æ–‡ä»¶çš„è¯»å†™æ“ä½œã€‚
- **`PaddleOcrManager` (OCR ç®¡ç†å™¨)**: ä¸€ä¸ªå·¥å…·ç±»ï¼Œè´Ÿè´£ç®¡ç† PaddleOCR å¼•æ“çš„ç”Ÿå‘½å‘¨æœŸï¼Œé‡‡ç”¨æŒ‰éœ€åŠ è½½å’Œæ€§èƒ½ä¼˜åŒ–é…ç½®ã€‚æ”¯æŒå¼‚æ­¥åˆå§‹åŒ–å’Œé”™è¯¯å¤„ç†ã€‚
- **`HotkeyManager` (çƒ­é”®ç®¡ç†å™¨)**: åŸºäº Windows API çš„ä½çº§é”®ç›˜é’©å­ç®¡ç†å™¨ï¼Œæ”¯æŒçƒ­é”®çš„åŠ¨æ€æ³¨å†Œã€æ³¨é”€å’Œæ¡ä»¶æŠ‘åˆ¶ã€‚
- **`SoundManager` (å£°éŸ³ç®¡ç†å™¨)**: ç®¡ç†éŸ³é¢‘åé¦ˆçš„æ’­æ”¾ï¼Œä½¿ç”¨ winsound åº“å®ç°éé˜»å¡éŸ³é¢‘æ’­æ”¾ã€‚
- **`WindowUtils` (çª—å£å·¥å…·)**: æä¾›çª—å£æ£€æµ‹ã€æ¿€æ´»å’Œç®¡ç†åŠŸèƒ½ï¼Œæ”¯æŒè¿›ç¨‹åå’Œçª—å£ç±»åçš„æŸ¥æ‰¾ã€‚
- **`DebugLog` (è°ƒè¯•æ—¥å¿—)**: åŸºäºç¯å¢ƒå˜é‡çš„æ¡ä»¶æ—¥å¿—ç³»ç»Ÿï¼Œæ”¯æŒä¸åŒçº§åˆ«çš„æ—¥å¿—è¾“å‡ºã€‚

## ä½¿ç”¨æ–¹æ³•

1.  **å¯åŠ¨ç¨‹åº**:
    *   **å®Œæ•´ç‰ˆæœ¬**: è¿è¡Œ `main.py`ï¼Œå¯åŠ¨åŒ…å«å®Œæ•´GUIç•Œé¢çš„ç‰ˆæœ¬ã€‚
    *   **ç®€åŒ–ç‰ˆæœ¬**: è¿è¡Œ `main_special.py`ï¼Œå¯åŠ¨å‘½ä»¤è¡Œç‰ˆæœ¬ï¼ˆä¸“æ³¨äºç‰¹å®šè‡ªåŠ¨åŒ–ä»»åŠ¡ï¼Œéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰ã€‚

2.  **é…ç½®**: åœ¨"æŠ€èƒ½é…ç½®"ã€"ç›®æ ‡çª—å£"ã€"æ—¶é—´é—´éš”/å£°éŸ³"ã€"åŸåœ°æ¨¡å¼"ã€"æ´—ç»ƒ"ã€"å¯»è·¯"ç­‰æ ‡ç­¾é¡µä¸­å®Œæˆæ‚¨çš„é…ç½®ã€‚æ”¯æŒåŠ è½½/ä¿å­˜JSONæ ¼å¼çš„é…ç½®æ–‡ä»¶ã€‚

3.  **çƒ­é”®æ“ä½œ**:
    *   **F8 (ä¸»æ§é”®)**: å‡†å¤‡/åœæ­¢**æŠ€èƒ½æ¨¡å¼**ã€‚
    *   **F7 (æ´—ç»ƒé”®)**: å¯åŠ¨/åœæ­¢**è£…å¤‡æ´—ç»ƒæ¨¡å¼**ï¼ˆéœ€è¦å…ˆåŠ è½½OCRå¼•æ“ï¼‰ã€‚
    *   **F9 (å¯»è·¯é”®)**: å‡†å¤‡/åœæ­¢**è‡ªåŠ¨å¯»è·¯æ¨¡å¼**ã€‚
    *   **Z (æ‰§è¡Œ/æš‚åœé”®)**: åœ¨"å‡†å¤‡"çŠ¶æ€ä¸‹ï¼ŒæŒ‰ä¸‹Zé”®ï¼Œå¼€å§‹æ‰§è¡Œå¯¹åº”çš„ä»»åŠ¡ï¼ˆæŠ€èƒ½æˆ–å¯»è·¯ï¼‰ã€‚åœ¨"è¿è¡Œ"çŠ¶æ€ä¸‹ï¼ŒæŒ‰ä¸‹Zé”®ï¼Œæš‚åœä»»åŠ¡ã€‚åœ¨"æš‚åœ"çŠ¶æ€ä¸‹ï¼Œå†æ¬¡æŒ‰ä¸‹Zé”®ï¼Œæ¢å¤ä»»åŠ¡ã€‚
    *   **åŸåœ°æ¨¡å¼çƒ­é”®**: å¯é…ç½®çš„çƒ­é”®ï¼Œç”¨äºåˆ‡æ¢åŸåœ°é‡Šæ”¾æŠ€èƒ½æ¨¡å¼ã€‚
    *   **äº¤äº’/å¼ºåˆ¶ç§»åŠ¨é”®**: å¯é…ç½®çš„çƒ­é”®ï¼Œç”¨äºä¸´æ—¶å±è”½æŠ€èƒ½æ‰§è¡Œã€‚

4.  **ç‰¹æ®ŠåŠŸèƒ½**:
    *   **åºåˆ—æ¨¡å¼**: æ”¯æŒæŒ‰é¢„è®¾é¡ºåºå¾ªç¯æ‰§è¡Œå¤šä¸ªæŠ€èƒ½ã€‚
    *   **åŸåœ°æ¨¡å¼**: æ”¯æŒä¸¤ç§å®ç°æ–¹å¼ - Shiftä¿®é¥°ç¬¦æˆ–é˜»æ­¢é¼ æ ‡é”®ã€‚
    *   **çª—å£æ¿€æ´»**: è‡ªåŠ¨æ£€æµ‹å¹¶æ¿€æ´»ç›®æ ‡æ¸¸æˆçª—å£ã€‚

## æŠ€æœ¯äº®ç‚¹

### 1. æ™ºèƒ½èµ„æºç®¡ç†
- **æƒ…æ™¯æ„ŸçŸ¥çš„æ•è·ç­–ç•¥**: ç¨‹åºèƒ½å¤Ÿæ ¹æ®å½“å‰ä»»åŠ¡ï¼ˆæˆ˜æ–—ã€å¯»è·¯ã€æ´—ç»ƒï¼‰çš„å®é™…éœ€æ±‚ï¼ŒåŠ¨æ€åˆ‡æ¢å±å¹•æ•è·æ¨¡å¼ã€‚åœ¨éœ€è¦å¤§èŒƒå›´è§†é‡æ—¶ï¼ˆå¯»è·¯/æˆ˜æ–—ï¼‰è‡ªåŠ¨åˆ‡æ¢ä¸ºå…¨å±æ•è·ï¼Œåœ¨éœ€è¦æè‡´OCRé€Ÿåº¦æ—¶ï¼ˆæ´—ç»ƒï¼‰åˆ‡æ¢ä¸ºå°èŒƒå›´UIåŒºåŸŸæ•è·ï¼Œåœ¨ç©ºé—²æ—¶åˆ™å®Œå…¨åœæ­¢æ•è·ï¼Œæœ€å¤§é™åº¦åœ°å¹³è¡¡äº†æ€§èƒ½å¼€é”€ä¸åŠŸèƒ½éœ€æ±‚ã€‚

### 2. ç°ä»£åŒ–çš„UIä¸æ ¸å¿ƒæ¶æ„
- **äº‹ä»¶é©±åŠ¨è®¾è®¡**: æ‰€æœ‰æ ¸å¿ƒç»„ä»¶é€šè¿‡ä¸­å¤®äº‹ä»¶æ€»çº¿è¿›è¡Œæ¾è€¦åˆé€šä¿¡ï¼Œé€»è¾‘æ¸…æ™°ï¼Œæ˜“äºæ‰©å±•ã€‚æ”¯æŒå¼‚æ­¥äº‹ä»¶å¤„ç†å’Œé€’å½’äº‹ä»¶æ£€æµ‹ã€‚
- **ç»Ÿä¸€çŠ¶æ€æœºæ¶æ„**: é‡‡ç”¨é©æ–°çš„ä¸¤æ­¥å¼æ“ä½œæ¨¡å¼ï¼Œæ‰€æœ‰åŠŸèƒ½æ¨¡å¼ï¼ˆæŠ€èƒ½ã€æ´—ç»ƒã€å¯»è·¯ï¼‰éƒ½éµå¾ªSTOPPEDâ†’READYâ†’RUNNINGâ†’PAUSEDçš„ç»Ÿä¸€çŠ¶æ€æµè½¬ï¼Œç¡®ä¿ç”¨æˆ·ä½“éªŒä¸€è‡´æ€§å’Œæ“ä½œå®‰å…¨æ€§ã€‚
- **æ¸…æ™°çš„æ¨¡å—åŒ–UI**: UIå±‚ç»è¿‡é‡æ„ï¼Œå°†ä¸»çª—å£ã€å„ç±»é…ç½®ç»„ä»¶å’Œè‡ªå®šä¹‰æ§ä»¶å®Œå…¨åˆ†ç¦»ï¼Œæå¤§åœ°æå‡äº†ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ä½¿ç”¨PySide6æ„å»ºç°ä»£åŒ–ç•Œé¢ã€‚
- **çº¿ç¨‹å®‰å…¨çš„UIæ›´æ–°**: å€ŸåŠ© `QTimer`ï¼Œæ‰€æœ‰æ¥è‡ªåå°çº¿ç¨‹çš„UIæ›´æ–°è¯·æ±‚éƒ½ä¼šè¢«å®‰å…¨åœ°è°ƒåº¦åˆ°ä¸»çº¿ç¨‹æ‰§è¡Œï¼Œæœç»äº†å¤šçº¿ç¨‹ UIæ“ä½œå¯¼è‡´çš„å´©æºƒé£é™©ã€‚
- **æ™ºèƒ½è¾“å…¥å¤„ç†**: InputHandleré‡‡ç”¨é˜Ÿåˆ—æœºåˆ¶å’Œçº¿ç¨‹æ± ï¼Œç¡®ä¿è¾“å…¥æ“ä½œçš„é«˜æ•ˆæ‰§è¡Œå’ŒçŠ¶æ€åŒæ­¥ã€‚

### 3. é«˜æ€§èƒ½ä¸é«˜æ•ˆç‡
- **é›¶æ‹·è´å±å¹•æ•è·**: åŸºäºC++å’ŒWindows Graphics Capture APIï¼Œä»æ ¹æœ¬ä¸Šæ¶ˆé™¤äº†å†…å­˜æ‹·è´å¼€é”€ã€‚Pythonå±‚é€šè¿‡ctypesç›´æ¥è®¿é—®C++å†…å­˜ç¼“å†²åŒºã€‚
- **é«˜æ•ˆçš„ä»»åŠ¡è°ƒåº¦**: ä½¿ç”¨åŸºäº `heapq` çš„å•çº¿ç¨‹ç»Ÿä¸€è°ƒåº¦å™¨ï¼Œä»¥æä½çš„èµ„æºå¼€é”€ç²¾ç¡®ç®¡ç†æ‰€æœ‰å®šæ—¶ä»»åŠ¡ã€‚æ”¯æŒä»»åŠ¡çš„åŠ¨æ€æ·»åŠ ã€ç§»é™¤å’Œé—´éš”æ›´æ–°ã€‚
- **"ä¸€æ¬¡æ•è·ï¼Œå¤šæ¬¡ä½¿ç”¨"**: å›¾åƒå¸§åœ¨å†…å­˜ä¸­è¢«å¤ç”¨ï¼Œé¿å…äº†é‡å¤æˆªå›¾å¸¦æ¥çš„CPUæ€§èƒ½æŸè€—ã€‚BorderFrameManagerè´Ÿè´£å¸§æ•°æ®çš„ç»Ÿä¸€ç®¡ç†å’Œåˆ†å‘ã€‚
- **æ™ºèƒ½ç¼“å­˜æœºåˆ¶**: æ¨¡æ¿ç¼“å­˜å’Œè¿›ç¨‹ç¼“å­˜å‡å°‘é‡å¤è®¡ç®—ï¼Œå¸¦å†…å­˜é™åˆ¶å’Œè‡ªåŠ¨æ¸…ç†åŠŸèƒ½ã€‚

### 4. ç¨³å¥æ€§ä¸å…¼å®¹æ€§
- **ç¨³å¥çš„é”™è¯¯å¤„ç†**: åœ¨æ‰€æœ‰å…³é”®è·¯å¾„ä¸Šéƒ½æ·»åŠ äº†è¯¦ç»†çš„é”™è¯¯æ—¥å¿—ï¼Œå‘Šåˆ«"é™é»˜å¤±è´¥"ï¼Œä¾¿äºå¿«é€Ÿå®šä½é—®é¢˜ã€‚æ”¯æŒDEBUGç¯å¢ƒå˜é‡æ§åˆ¶æ—¥å¿—è¾“å‡ºçº§åˆ«ã€‚
- **ä¾èµ–ç‰ˆæœ¬ç®¡ç†**: åœ¨ `requirements.txt` ä¸­æ˜ç¡®æŒ‡å®šä¾èµ–ç‰ˆæœ¬ï¼Œä¿è¯äº†å¼€å‘å’Œéƒ¨ç½²ç¯å¢ƒçš„ä¸€è‡´æ€§ä¸å¯å¤ç°æ€§ã€‚åŒ…å«PySide6ã€OpenCVã€PaddleOCRç­‰æ ¸å¿ƒä¾èµ–ã€‚
- **æŒ‰éœ€åŠ è½½**: OCRç­‰é‡èµ„æºæ¨¡å—æŒ‰éœ€åŠ è½½ï¼Œä¼˜åŒ–äº†ç¨‹åºçš„å¯åŠ¨é€Ÿåº¦å’Œèµ„æºå ç”¨ã€‚æ”¯æŒå¼‚æ­¥åˆå§‹åŒ–å’Œé”™è¯¯æ¢å¤ã€‚
- **è·¨å¹³å°å…¼å®¹æ€§**: ä¸»è¦é’ˆå¯¹Windowså¹³å°è®¾è®¡ï¼Œä½¿ç”¨Windows APIå®ç°åº•å±‚åŠŸèƒ½ï¼ŒåŒæ—¶ä¿æŒPythonå±‚çš„å¹³å°æ— å…³æ€§ã€‚

### 5. æ™ºèƒ½å¯»è·¯ä¸æ¢ç´¢æŠ€æœ¯
- **å…ˆè¿›çš„åœ°å›¾æ‹¼æ¥æŠ€æœ¯**: é‡‡ç”¨`cv2.phaseCorrelate`ç›¸ä½ç›¸å…³ç®—æ³•ï¼Œå®ç°äº†äºšåƒç´ çº§ç²¾åº¦çš„åœ°å›¾ä½ç§»è¿½è¸ªï¼Œç¡®ä¿å…¨å±€åœ°å›¾çš„é«˜ç²¾åº¦æ‹¼æ¥ã€‚æ”¯æŒåŠ¨æ€åœ°å›¾æ›´æ–°å’Œå†…å­˜ä¼˜åŒ–ã€‚
- **é«˜æ•ˆçš„A*è·¯å¾„è§„åˆ’**: å®ç°äº†æ”¯æŒ8æ–¹å‘ç§»åŠ¨çš„A*ç®—æ³•ï¼Œæ”¯æŒåŠ¨æ€åœ°å›¾æ›´æ–°å’Œå®æ—¶è·¯å¾„é‡è§„åˆ’ï¼Œç¡®ä¿æ‰¾åˆ°æœ€ä¼˜è·¯å¾„ã€‚ä½¿ç”¨Nodeç±»å’Œheapqå®ç°é«˜æ•ˆçš„ä¼˜å…ˆçº§é˜Ÿåˆ—ã€‚
- **æ™ºèƒ½åŒæ¨¡å¼åˆ‡æ¢**: åœ¨æ¢ç´¢æ¨¡å¼ä¸‹é‡‡ç”¨Zå­—å½¢éå†ç®—æ³•ï¼ˆ"é™¤è‰æœº"æ¨¡å¼ï¼‰ï¼Œä¸€æ—¦å‘ç°ç›®æ ‡å³åˆ»åˆ‡æ¢åˆ°å¯»è·¯æ¨¡å¼ï¼Œå®ç°é«˜æ•ˆçš„è‡ªä¸»æ¢ç´¢å’Œç²¾ç¡®å¯»è·¯ã€‚
- **å®æ—¶ç›®æ ‡è¯†åˆ«**: é€šè¿‡HSVé¢œè‰²ç©ºé—´è¿‡æ»¤å’Œè½®å»“æ£€æµ‹ï¼Œå®ç°äº†å¯¹æ¸¸æˆä¸­ç‰¹å®šç›®æ ‡ï¼ˆå¦‚ä»»åŠ¡ç‚¹ã€ä¼ é€é—¨ï¼‰çš„å®æ—¶è¯†åˆ«å’Œå®šä½ã€‚æ”¯æŒäº®è“è‰²ç›®æ ‡çš„è‡ªåŠ¨æ£€æµ‹ã€‚
- **å…¨å±€åœ°å›¾ç®¡ç†**: ä½¿ç”¨5000x5000åƒç´ çš„numpyæ•°ç»„ç»´æŠ¤å…¨å±€åœ°å›¾ï¼Œæ”¯æŒç©å®¶ä½ç½®è¿½è¸ªå’Œåœ°å›¾åŒºåŸŸçš„åŠ¨æ€æ‹¼æ¥ã€‚

### 6. æ™ºèƒ½è¯å‰‚æŠ€æœ¯
- **å…ˆè¿›çš„åŒè‰²æ£€æµ‹ç®—æ³•**: é‡‡ç”¨HSVåŒè‰²æ£€æµ‹ï¼Œæ”¯æŒæ­£å¸¸çŠ¶æ€å’Œä¸­æ¯’çŠ¶æ€çš„æ™ºèƒ½è¯†åˆ«ï¼Œå®ç°æ›´ç²¾ç¡®çš„èµ„æºé‡ä¼°ç®—ã€‚
- **ç»Ÿä¸€çš„æ£€æµ‹æ¶æ„**: è¯å‰‚æ£€æµ‹æœ¬è´¨ä¸Šæ˜¯ç‰¹æ®Šçš„æŠ€èƒ½å†·å´æ£€æµ‹ï¼Œä½¿ç”¨ç›¸åŒçš„åº•å±‚æ£€æµ‹ç³»ç»Ÿï¼Œå®ç°ä»£ç æœ€å¤§åŒ–å¤ç”¨å’Œç»Ÿä¸€ç»´æŠ¤ã€‚
- **HSV å®¹å·®æ£€æµ‹ç®—æ³•**: é‡‡ç”¨ HSV é¢œè‰²ç©ºé—´å®ç°åƒç´ çº§ç²¾ç¡®åŒ¹é…ï¼Œæ”¯æŒç¯å½¢è‰²ç›¸å¤„ç†å’Œå®¹å·®èŒƒå›´è®¾ç½®ï¼Œç¡®ä¿åœ¨ä¸åŒå…‰ç…§æ¡ä»¶ä¸‹ç¨³å®šæ£€æµ‹ã€‚
- **è¢«åŠ¨å¼æ£€æµ‹æ¶æ„**: ç”± SkillManager ç»Ÿä¸€è°ƒåº¦ï¼Œé¿å…ç‹¬ç«‹çº¿ç¨‹å¼€é”€ã€‚å¤ç”¨å±å¹•å¸§æ•°æ®ï¼Œæé«˜æ•´ä½“æ€§èƒ½ã€‚æ”¯æŒå®Œæ•´çš„çŠ¶æ€ç®¡ç†ï¼ˆå¯åŠ¨/æš‚åœ/åœæ­¢ï¼‰ã€‚
- **æ™ºèƒ½æ¨¡æ¿ç¼“å­˜**: åœ¨F8å‡†å¤‡é˜¶æ®µè‡ªåŠ¨æˆªå–å¹¶ç¼“å­˜HSVæ¨¡æ¿ï¼Œæ”¯æŒåŠ¨æ€å®¹å·®è°ƒæ•´ï¼Œå®ç°ç²¾ç¡®çš„æ¨¡æ¿åŒ¹é…æ£€æµ‹ã€‚
- **å†…éƒ¨å†·å´æœºåˆ¶**: å®ç°è¯æ°´ä½¿ç”¨é—´éš”æ§åˆ¶ï¼Œé˜²æ­¢è¿ç»­æŒ‰é”®æµªè´¹è¯æ°´ã€‚æ”¯æŒ HP å’Œ MP ç‹¬ç«‹å†·å´æ—¶é—´è®¾ç½®ï¼Œå¸¦è¯¦ç»†çš„å†·å´çŠ¶æ€æ—¥å¿—ã€‚
- **1080P ä¼˜åŒ–é…ç½®**: å†…ç½®é’ˆå¯¹ 1080P å±å¹•ä¼˜åŒ–çš„é»˜è®¤åæ ‡å’Œé¢œè‰²å€¼ã€‚ç©ºé…ç½®æ—¶è‡ªåŠ¨ä½¿ç”¨é»˜è®¤å€¼ï¼Œç¡®ä¿å¼€ç®±å³ç”¨çš„ä½“éªŒã€‚
- **é…ç½®åˆ†ç¦»è®¾è®¡**: resource é…ç½®å®Œå…¨ç‹¬ç«‹äº skill é…ç½®ï¼Œé¿å…é…ç½®æ··ä¹±ã€‚æ”¯æŒé…ç½®çš„éƒ¨åˆ†æ›´æ–°å’Œå‘åå…¼å®¹ã€‚
- **ç•Œé¢éšè—æ“ä½œ**: åŒºåŸŸé€‰æ‹©å’Œé¢œè‰²æ‹¾å–æ—¶è‡ªåŠ¨éšè—ä¸»ç•Œé¢ï¼Œæä¾›å…¨å±æ“ä½œä½“éªŒã€‚æ“ä½œå®Œæˆåæ— ç¼æ¢å¤ç•Œé¢çŠ¶æ€ã€‚

## ä¾èµ–ç¯å¢ƒä¸é…ç½®

### ç³»ç»Ÿè¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: Windows 10/11 (ä¸»è¦æ”¯æŒå¹³å°)
- **Pythonç‰ˆæœ¬**: 3.7+
- **æƒé™è¦æ±‚**: éƒ¨åˆ†åŠŸèƒ½éœ€è¦ç®¡ç†å‘˜æƒé™ï¼ˆå¦‚çƒ­é”®ç›‘å¬ï¼‰

### æ ¸å¿ƒä¾èµ–
```
PySide6>=6.5.0        # GUIæ¡†æ¶
psutil>=5.9.0         # ç³»ç»Ÿè¿›ç¨‹ç®¡ç†
pynput>=1.7.6         # é”®ç›˜é¼ æ ‡è¾“å…¥æ§åˆ¶
Pillow>=9.0.0         # å›¾åƒå¤„ç†
numpy>=1.20.0         # æ•°å€¼è®¡ç®—
opencv-python>=4.5.0  # è®¡ç®—æœºè§†è§‰
pywin32>=306          # Windows APIæ¥å£
paddleocr==2.7.3      # OCRæ–‡å­—è¯†åˆ«
```

### ç¯å¢ƒé…ç½®
- **DEBUGæ¨¡å¼**: è®¾ç½®ç¯å¢ƒå˜é‡`DEBUG=1`å¯ç”¨è¯¦ç»†æ—¥å¿—è¾“å‡º
- **ä»£ç†è®¾ç½®**: æ”¯æŒHTTP/HTTPSä»£ç†é…ç½®ï¼ˆç”¨äºPaddleOCRä¸‹è½½ï¼‰
- **é…ç½®æ–‡ä»¶**: æ”¯æŒJSONæ ¼å¼çš„é…ç½®æ–‡ä»¶ï¼Œæ”¯æŒå¤šå¥—é…ç½®åˆ‡æ¢

### é¡¹ç›®ç»“æ„
```
torchlight_assistant/
â”œâ”€â”€ core/                    # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ macro_engine.py     # ä¸»æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ skill_manager.py    # æŠ€èƒ½ç®¡ç†
â”‚   â”œâ”€â”€ input_handler.py    # è¾“å…¥å¤„ç†
â”‚   â””â”€â”€ ...
â”œâ”€â”€ gui/                    # ç”¨æˆ·ç•Œé¢
â”‚   â”œâ”€â”€ main_window.py      # ä¸»çª—å£
â”‚   â”œâ”€â”€ skill_config_widget.py
â”‚   â””â”€â”€ ...
â”œâ”€â”€ utils/                  # å·¥å…·ç±»
â”‚   â”œâ”€â”€ native_graphics_capture_manager.py
â”‚   â”œâ”€â”€ border_frame_manager.py
â”‚   â””â”€â”€ ...
â””â”€â”€ native_capture/         # C++åŸç”Ÿæ•è·åº“
    â”œâ”€â”€ capture_lib.cpp
    â”œâ”€â”€ python_wrapper.py
    â””â”€â”€ ...
```