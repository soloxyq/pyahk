# pyahk - é«˜æ€§èƒ½ARPGæ¸¸æˆè‡ªåŠ¨åŒ–è¾…åŠ©å·¥å…·

ä¸€ä¸ªåŸºäº Python å’Œ C++ çš„ç°ä»£åŒ–æ¡Œé¢æ¸¸æˆè‡ªåŠ¨åŒ–è¾…åŠ©å·¥å…·ï¼Œä¸“ä¸º ARPG æ¸¸æˆï¼ˆå¦‚ã€Šæš—é»‘ç ´åç¥ 4ã€‹ã€ã€Šæµæ”¾ä¹‹è·¯ 2ã€‹ç­‰ï¼‰è®¾è®¡ã€‚é‡‡ç”¨å…ˆè¿›çš„**äº‹ä»¶é©±åŠ¨æ¶æ„**å’Œ**é›¶æ‹·è´å±å¹•æ•è·æŠ€æœ¯**ï¼Œæä¾›æ¯«ç§’çº§å“åº”çš„æŠ€èƒ½å¾ªç¯è‡ªåŠ¨åŒ–ã€æ™ºèƒ½è¯å‰‚ç®¡ç†ã€è£…å¤‡è¯ç¼€æ´—ç»ƒã€è‡ªåŠ¨å¯»è·¯å’Œçƒ­é”®ç®¡ç†ç­‰åŠŸèƒ½ã€‚é¡¹ç›®é‡‡ç”¨ç°ä»£åŒ–çš„åˆ†å±‚æ¶æ„è®¾è®¡ï¼Œç¡®ä¿å“è¶Šçš„æ€§èƒ½è¡¨ç°å’Œç”¨æˆ·ä½“éªŒã€‚

## é¡¹ç›®æ¦‚è¿°

**pyahk** æ˜¯ä¸€ä¸ªå¼ºå¤§çš„ARPGæ¸¸æˆè‡ªåŠ¨åŒ–è¾…åŠ©å·¥å…·ï¼Œç”±Pythonä¸C++åˆä½œå¼€å‘ã€‚é¡¹ç›®é¢å‘ã€Šæš—é»‘ç ´åç¥4ã€‹ã€ã€Šæµæ”¾ä¹‹è·¯2ã€‹ç­‰ç°ä»£ARPGæ¸¸æˆè®¾è®¡ï¼Œæä¾›æ¯«ç§’çº§çš„é«˜æ€§èƒ½æ¸¸æˆæ“ä½œè‡ªåŠ¨åŒ–ã€‚

ä¸ä¼ ç»Ÿçš„AutoHotkeyè„šæœ¬ç›¸æ¯”ï¼Œpyahké‡‡ç”¨ç°ä»£åŒ–çš„æŠ€æœ¯æ¶æ„ï¼š

- **äº‹ä»¶é©±åŠ¨æ¶æ„**ï¼šæ‰€æœ‰ç»„ä»¶é€šè¿‡ä¸­å¤®äº‹ä»¶æ€»çº¿è¿›è¡Œé€šä¿¡ï¼Œå®ç°é«˜åº¦è§£è€¦
- **é›¶æ‹·è´æ•è·æŠ€æœ¯**ï¼šåŸºäºWindows Graphics Capture APIçš„C++åº•å±‚å®ç°ï¼Œæå¤§é™ä½æ€§èƒ½å¼€é”€
- **ç»Ÿä¸€è°ƒåº¦å™¨**ï¼šå–ä»£ä¼ ç»Ÿå¤šçº¿ç¨‹æ¨¡å‹ï¼Œæä¾›æ›´ç²¾ç¡®çš„å®šæ—¶ä»»åŠ¡ç®¡ç†
- **æ¨¡å—åŒ–è®¾è®¡**ï¼šæ¸…æ™°çš„åŠŸèƒ½åˆ†ç¦»ï¼Œæ˜“äºç»´æŠ¤å’Œæ‰©å±•

## é¡¹ç›®å…¥å£

pyahkæä¾›ä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼š

1. **GUIç‰ˆæœ¬** (`main.py`)ï¼šå®Œæ•´çš„å›¾å½¢ç”¨æˆ·ç•Œé¢ï¼Œæ”¯æŒæ‰€æœ‰åŠŸèƒ½æ¨¡å—çš„å¯è§†åŒ–é…ç½®å’Œæ§åˆ¶
2. **å‘½ä»¤è¡Œç‰ˆæœ¬** (`main_special.py`)ï¼šè½»é‡çº§ç‰ˆæœ¬ï¼Œä¸“æ³¨äºç‰¹å®šæ¸¸æˆåœºæ™¯çš„è‡ªåŠ¨åŒ–ä»»åŠ¡

## æ ¸å¿ƒåŠŸèƒ½ç‰¹æ€§

- **é›¶æ‹·è´å±å¹•æ•è·æŠ€æœ¯**: åˆ©ç”¨ç°ä»£Windows Graphics Capture APIå’ŒC++åº•å±‚å®ç°ï¼ŒPythonå±‚é€šè¿‡ctypesç›´æ¥è®¿é—®å¸§æ•°æ®ï¼Œé¿å…å†…å­˜æ‹·è´å¼€é”€ï¼Œç¡®ä¿æ¯«ç§’çº§å“åº”é€Ÿåº¦
- **äº‹ä»¶é©±åŠ¨æ¶æ„**: ç³»ç»Ÿæ ¸å¿ƒç»„ä»¶é€šè¿‡ä¸­å¤®äº‹ä»¶æ€»çº¿(EventBus)è¿›è¡Œé€šä¿¡ï¼Œå®ç°å®Œå…¨è§£è€¦ï¼Œæå¤§æé«˜ä»£ç å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§
- **ç»Ÿä¸€è°ƒåº¦å™¨**: åŸºäºheapqçš„å•çº¿ç¨‹è°ƒåº¦å™¨ï¼Œç®¡ç†æ‰€æœ‰å®šæ—¶ä»»åŠ¡ï¼Œå–ä»£ä¼ ç»Ÿå¤šçº¿ç¨‹æ¨¡å‹ï¼Œæ˜¾è‘—é™ä½èµ„æºå¼€é”€å¹¶æé«˜è®¡æ—¶ç²¾åº¦
- **æ™ºèƒ½è¯å‰‚ç®¡ç†**: é‡‡ç”¨HSVé¢œè‰²ç©ºé—´åŒ¹é…æŠ€æœ¯çš„è¢«åŠ¨å¼æ£€æµ‹ç³»ç»Ÿï¼Œæ”¯æŒHP/MPçš„ç²¾ç¡®æ£€æµ‹å’Œè‡ªåŠ¨å–‚è¯åŠŸèƒ½ï¼Œå†…ç½®1080Pä¼˜åŒ–é…ç½®
- **è£…å¤‡è¯ç¼€æ´—ç»ƒ**: ç‹¬ç«‹çš„F7çƒ­é”®æ§åˆ¶æ¨¡å—ï¼Œé‡‡ç”¨ä¸‰çŠ¶æ€æ™ºèƒ½è¯†åˆ«ï¼Œé€šè¿‡PaddleOCRè¿›è¡Œè¯ç¼€è¯†åˆ«ï¼Œæ”¯æŒå®æ—¶OSDåé¦ˆ
- **è‡ªåŠ¨å¯»è·¯ä¸æ¢ç´¢**: é‡‡ç”¨ç›¸ä½ç›¸å…³ä½ç§»è·Ÿè¸ªå’ŒA*ç®—æ³•ï¼Œå®ç°éšæœºåœ°å›¾çš„è‡ªä¸»æ¢ç´¢å’Œç²¾ç¡®è·¯å¾„è§„åˆ’ï¼Œæ”¯æŒåŒæ¨¡å¼è¿è¡Œ
- **æ¨¡å¼äº’æ–¥é€»è¾‘**: ä¸¥æ ¼åŒºåˆ†"æŠ€èƒ½æ¨¡å¼"ã€"æ´—ç»ƒæ¨¡å¼"å’Œ"å¯»è·¯æ¨¡å¼"ï¼Œç¡®ä¿é€»è¾‘æ¸…æ™°ã€è¡Œä¸ºå¯é¢„æµ‹
- **ç®€åŒ–çš„æŠ€èƒ½è§¦å‘ç³»ç»Ÿ**: æ”¯æŒå®šæ—¶æ¨¡å¼(Timer)å’Œå†·å´æ¨¡å¼(Cooldown)ä¸¤ç§æ ¸å¿ƒè§¦å‘æ¨¡å¼ï¼Œç§»é™¤æœªå®ç°çš„å†…éƒ¨å†·å´æ¨¡å¼
- **éŸ³é¢‘åé¦ˆç³»ç»Ÿ**: é€šè¿‡é¢„ç½®éŸ³é¢‘æ–‡ä»¶ä¸ºå¯åŠ¨ã€åœæ­¢ã€æš‚åœå’Œæ¢å¤ç­‰æ“ä½œæä¾›æ— å»¶è¿Ÿå£°éŸ³æç¤º

## è‡ªåŠ¨å¯»è·¯åŠŸèƒ½è¯¦è§£ (å·²å®ç°)

æœ¬é¡¹ç›®çš„é«˜çº§åŠŸèƒ½ï¼Œæ—¨åœ¨å®ç°å¯¹éšæœºç”Ÿæˆåœ°å›¾ï¼ˆå¦‚ã€Šæš—é»‘ç ´åç¥ 4ã€‹çš„åœ°ç‰¢ï¼‰çš„è‡ªä¸»æ¢ç´¢å’Œè·¯å¾„è§„åˆ’ã€‚è¯¥åŠŸèƒ½é‡‡ç”¨**æ–°æ¶æ„è®¾è®¡**ï¼Œé€šè¿‡ **F9** çƒ­é”®å‡†å¤‡å¯»è·¯æ¨¡å¼ï¼Œ**Z** é”®æ‰§è¡Œå¯»è·¯ä»»åŠ¡ã€‚ç›®å‰å·²å®Œæˆä¸‰ä¸ªé˜¶æ®µçš„å…¨é¢å®ç°ã€‚

å…¶æ ¸å¿ƒæŠ€æœ¯æ–¹æ¡ˆåˆ†ä¸ºä¸‰ä¸ªé˜¶æ®µï¼š

### ç¬¬ä¸€é˜¶æ®µï¼šåœ°å›¾è§£è¯»ä¸æ‹¼æ¥ (å·²å®ç°)

æ­¤é˜¶æ®µçš„ç›®æ ‡æ˜¯å°†æ¸¸æˆå°åœ°å›¾çš„åƒç´ å›¾åƒï¼Œç¿»è¯‘å¹¶æ‹¼æ¥æˆä¸€å¼ ç¨‹åºå¯ä»¥ç†è§£çš„ã€æŒä¹…åŒ–çš„å…¨å±€åœ°å›¾ã€‚

1.  **è·¯å¾„æå–**: ç¨‹åºåˆ©ç”¨ `OpenCV` å¯¹å°åœ°å›¾æˆªå›¾è¿›è¡Œ**é¢œè‰²è¿‡æ»¤**ã€‚é€šè¿‡`cv2.cvtColor`è½¬ä¸ºç°åº¦å›¾åï¼Œä½¿ç”¨`cv2.threshold`å°†å°åœ°å›¾ä¸­é¢œè‰²è¾ƒäº®çš„ã€å¯é€šè¡Œçš„è·¯å¾„åŒºåŸŸæå–å‡ºæ¥ï¼Œç”Ÿæˆä¸€å¼ åªåŒ…å«è·¯å¾„çš„äºŒå€¼åŒ–â€œè’™ç‰ˆâ€ï¼ˆMaskï¼‰ã€‚è¿™ä¸€æ­¥ç›´æ¥è¿‡æ»¤æ‰äº†åœ°å›¾èƒŒæ™¯ã€æ€ªç‰©æ ‡è®°ç­‰æ‰€æœ‰åŠ¨æ€â€œå™ªéŸ³â€ã€‚
2.  **å›¾åƒä¼˜åŒ–**: ä¸ºäº†è®©è·¯å¾„æ•°æ®æ›´å¯é ï¼Œä¼šä½¿ç”¨`cv2.morphologyEx`å’Œâ€œé—­è¿ç®—â€(`MORPH_CLOSE`)ã€â€œå¼€è¿ç®—â€(`MORPH_OPEN`)æ¥å¡«è¡¥è·¯å¾„çº¿æ¡ä¸­çš„å¾®å°æ–­è£‚ï¼Œå¹¶ç§»é™¤å­¤ç«‹çš„å™ªç‚¹ï¼Œå¾—åˆ°ä¸€å¼ å¹²å‡€ã€å®Œæ•´çš„è·¯å¾„å›¾ã€‚
3.  **åœ°å›¾ä½ç§»è¿½è¸ª**: ç”±äºæ¸¸æˆå°åœ°å›¾æ˜¯â€œç©å®¶åœ¨ä¸­å¿ƒï¼Œåœ°å›¾ç§»åŠ¨â€çš„æ¨¡å¼ï¼Œç¨‹åºä¼šå¯¹æ¯”**è¿ç»­ä¸¤å¸§**çš„â€œçº¯å‡€è·¯å¾„å›¾â€ï¼Œä½¿ç”¨`cv2.phaseCorrelate`ï¼ˆç›¸ä½ç›¸å…³ï¼‰æŠ€æœ¯ï¼Œç²¾ç¡®è®¡ç®—å‡ºåœ°å›¾æ»šåŠ¨çš„åƒç´ ä½ç§»`(dx, dy)`ã€‚
4.  **å…¨å±€åœ°å›¾æ‹¼æ¥**: ç¨‹åºåœ¨å†…å­˜ä¸­ç»´æŠ¤ä¸€å¼ å·¨å¤§çš„â€œå…¨å±€åœ°å›¾â€ï¼ˆå¦‚ 5000x5000 çš„`numpy`æ•°ç»„ï¼‰ã€‚æ ¹æ®è®¡ç®—å‡ºçš„ä½ç§»ï¼Œå®ƒå°±èƒ½åæ¨å‡ºç©å®¶åœ¨å…¨å±€åœ°å›¾ä¸Šçš„ç»å¯¹åæ ‡ï¼Œå¹¶å°†å½“å‰çœ‹åˆ°çš„æ–°è·¯å†µï¼Œé€šè¿‡`cv2.add`æ“ä½œâ€œæ‹¼æ¥â€åˆ°å…¨å±€åœ°å›¾çš„æ­£ç¡®ä½ç½®ä¸Šï¼Œåƒæ‹¼å›¾ä¸€æ ·ï¼Œé€æ­¥æ‰©å¤§å·²æ¢ç´¢çš„åŒºåŸŸã€‚

### ç¬¬äºŒé˜¶æ®µï¼šæ¢ç´¢ä¸è·¯å¾„è§„åˆ’ (å·²å®ç°)

åœ¨æ‹¥æœ‰äº†ç»˜åˆ¶åœ°å›¾çš„èƒ½åŠ›åï¼Œç¨‹åºéœ€è¦ä¸€ä¸ªç­–ç•¥æ¥æ¢ç´¢æœªçŸ¥åŒºåŸŸã€‚

1.  **â€œZ å­—å½¢/é™¤è‰æœºâ€æ¢ç´¢ç®—æ³•**: åœ¨æ²¡æœ‰æœ€ç»ˆç›®æ ‡çš„æƒ…å†µä¸‹ï¼Œç¨‹åºé‡‡ç”¨ä¸€ç§ç³»ç»Ÿæ€§çš„â€˜é™¤è‰æœºâ€™ç®—æ³•æ¥éå†åœ°å›¾ã€‚å®ƒä¼šæ§åˆ¶è§’è‰²æ²¿ä¸€ä¸ªæ–¹å‘ï¼ˆå¦‚â€œå³â€ï¼‰æŒç»­ç§»åŠ¨ï¼Œç›´åˆ°åœ¨**å·²æ‹¼æ¥çš„å…¨å±€åœ°å›¾**ä¸Šæ¢æµ‹åˆ°å‰æ–¹æœ‰éšœç¢ç‰©ã€‚ç„¶åï¼Œè§’è‰²ä¼šå‘ä¸‹ç§»åŠ¨ä¸€å°æ®µå›ºå®šè·ç¦»ï¼Œå¹¶æ‰è½¬æ–¹å‘ï¼ˆå˜ä¸ºâ€œå·¦â€ï¼‰ç»§ç»­ç§»åŠ¨ï¼Œå¦‚æ­¤å¾€å¤ï¼Œç¡®ä¿ä»¥ Z å­—å½¢è·¯å¾„å®Œæ•´åœ°è¦†ç›–æ‰€æœ‰å¯æ¢ç´¢åŒºåŸŸï¼Œé¿å…èµ°å›å¤´è·¯ã€‚
2.  **A\*å¯»è·¯ (å·²å®ç°)**: ä¸€æ—¦ç›®æ ‡ï¼ˆå¦‚å‡ºå£çš„ç‹¬ç‰¹å›¾æ ‡ï¼‰å‡ºç°åœ¨è§†é‡ä¸­ï¼Œå¹¶è¢«è®°å½•åˆ°å…¨å±€åœ°å›¾ä¸Šåï¼Œç¨‹åºå°†ç«‹å³åœæ­¢æ¢ç´¢ï¼Œå¹¶åœ¨å·²æ‹¼æ¥çš„å…¨å±€åœ°å›¾ä¸Šè¿è¡Œ **A\*** ç®—æ³•ï¼Œè§„åˆ’å‡ºä»ç©å®¶å½“å‰ä½ç½®åˆ°ç›®æ ‡çš„**æœ€ä¼˜è·¯å¾„**ã€‚å®ç°äº†å®Œæ•´çš„è·¯å¾„è§„åˆ’ã€è·¯ç‚¹è·Ÿéšå’Œæ¨¡å¼åˆ‡æ¢é€»è¾‘ã€‚

### ç¬¬ä¸‰é˜¶æ®µï¼šå¯»è·¯æ‰§è¡Œ (å·²å®ç°)

æ­¤é˜¶æ®µçš„ç›®æ ‡æ˜¯æ§åˆ¶è§’è‰²ï¼Œç²¾å‡†åœ°æ²¿ç€è§„åˆ’å¥½çš„è·¯å¾„ç§»åŠ¨ã€‚

1.  **æ–¹å‘å‘é‡**: å› ä¸ºç©å®¶æ°¸è¿œåœ¨å°åœ°å›¾ä¸­å¿ƒï¼Œæ‰€ä»¥è·¯å¾„ä¸Šçš„ä»»ä½•ä¸€ä¸ªè·¯ç‚¹ï¼ˆWaypointï¼‰éƒ½å¤©ç„¶åœ°ä»£è¡¨äº†ä¸€ä¸ªä»ç©å®¶å‡ºå‘çš„**æ–¹å‘å‘é‡**ã€‚
2.  **è·¯ç‚¹è·Ÿéš**: å®ç°äº†å®Œæ•´çš„è·¯ç‚¹è·Ÿéšç®—æ³•ï¼Œæ”¯æŒç²¾ç¡®çš„è·ç¦»åˆ¤æ–­å’Œè·¯ç‚¹åˆ‡æ¢ã€‚ç¨‹åºä¼šæ ¹æ®å½“å‰ä½ç½®ä¸ç›®æ ‡è·¯ç‚¹çš„è·ç¦»ï¼Œè®¡ç®—ç²¾ç¡®çš„æ–¹å‘å‘é‡ï¼Œå¹¶åœ¨æ¸¸æˆä¸»å±å¹•çš„ç›¸åº”ä½ç½®æ¨¡æ‹Ÿé¼ æ ‡ç‚¹å‡»ï¼Œé©±åŠ¨è§’è‰²æ²¿ç€ A\*è§„åˆ’çš„æœ€ä¼˜è·¯å¾„ç²¾ç¡®ç§»åŠ¨ã€‚åŒæ—¶æ”¯æŒæš‚åœ/æ¢å¤åŠŸèƒ½å’Œæ¨¡å¼æ™ºèƒ½åˆ‡æ¢ã€‚
3.  **ç§»åŠ¨æ‰§è¡Œ**: ä½¿ç”¨ InputHandler çš„ click_mouse_at æ–¹æ³•åœ¨å±å¹•åæ ‡(960, 540)ä¸ºä¸­å¿ƒï¼Œæ ¹æ®è®¡ç®—å‡ºçš„æ–¹å‘å‘é‡å’Œè·ç¦»(150 åƒç´ )ç¡®å®šç‚¹å‡»ä½ç½®ï¼Œå®ç°ç²¾ç¡®çš„è§’è‰²ç§»åŠ¨æ§åˆ¶ã€‚

## æ™ºèƒ½è¯å‰‚åŠ©æ‰‹è¯¦è§£ (å·²å®ç°)

ä¸“ä¸º ARPG æ¸¸æˆè®¾è®¡çš„æ™ºèƒ½è¯å‰‚ç®¡ç†ç³»ç»Ÿï¼Œå®ç°äº†ç²¾ç¡®çš„è¡€è“æ¡é¢œè‰²æ£€æµ‹å’Œè‡ªåŠ¨å–è¯åŠŸèƒ½ã€‚è¯¥åŠŸèƒ½é‡‡ç”¨å…ˆè¿›çš„ HSV é¢œè‰²ç©ºé—´åŒ¹é…æŠ€æœ¯ï¼Œæ”¯æŒç•Œé¢éšè—çš„å¯è§†åŒ–åŒºåŸŸé€‰æ‹©å’Œé¢œè‰²æ‹¾å–å·¥å…·ã€‚

### æ ¸å¿ƒæŠ€æœ¯æ–¹æ¡ˆ

#### 1. HSV é¢œè‰²ç©ºé—´ç²¾ç¡®åŒ¹é…

- **H(è‰²ç›¸)**ï¼š0-359 åº¦ï¼ŒåŒºåˆ†é¢œè‰²ç±»å‹ï¼ˆçº¢/è“/ç»¿ç­‰ï¼‰
- **S(é¥±å’Œåº¦)**ï¼š0-255ï¼Œæ§åˆ¶é¢œè‰²é²œè‰³ç¨‹åº¦
- **V(æ˜åº¦)**ï¼š0-255ï¼Œæ§åˆ¶é¢œè‰²äº®åº¦
- **å®¹å·®æ§åˆ¶**ï¼šæ¯ä¸ªç»´åº¦ç‹¬ç«‹è®¾ç½®å®¹å·®èŒƒå›´ï¼Œå®ç°ç²¾ç¡®åŒ¹é…
- **OpenCV è½¬æ¢**ï¼šQt è‰²ç›¸å€¼(0-359)è‡ªåŠ¨è½¬æ¢ä¸º OpenCV è‰²ç›¸å€¼(0-179)

#### 2. æ™ºèƒ½èµ„æºæ£€æµ‹ç®—æ³•

```
# è®¡ç®—åŒºåŸŸå†…åŒ¹é…é¢œè‰²çš„åƒç´ ç™¾åˆ†æ¯”
matching_pixels = cv2.countNonZero(mask)
percentage = (matching_pixels / total_pixels) * 100.0

# HSVèŒƒå›´åŒ¹é…
lower_hsv = np.array([h_min, s_min, v_min])
upper_hsv = np.array([h_max, s_max, v_max])
mask = cv2.inRange(hsv_region, lower_hsv, upper_hsv)
```

#### 3. è¢«åŠ¨å¼æ£€æµ‹æ¶æ„

é‡‡ç”¨è¢«åŠ¨å¼æ£€æµ‹æ¨¡å¼ï¼Œç”± SkillManager ç»Ÿä¸€è°ƒåº¦ï¼š

```
def check_and_execute_resources(self, cached_frame: Optional[np.ndarray] = None) -> bool:
    """è¢«åŠ¨è°ƒç”¨çš„èµ„æºæ£€æµ‹ï¼Œé¿å…ç‹¬ç«‹çº¿ç¨‹å¼€é”€"""
    if not self._is_running or self._is_paused:
        return False

    # æ£€æŸ¥HPå’ŒMPï¼Œæ‰§è¡Œå¿…è¦çš„æŒ‰é”®æ“ä½œ
    executed = False
    if self.hp_config.get("enabled", False):
        if self._should_use_hp_resource(cached_frame):
            self._execute_resource("hp", self.hp_config)
            executed = True
    # ... MPæ£€æµ‹é€»è¾‘
    return executed
```

#### 4. å†…éƒ¨å†·å´æœºåˆ¶

```
def _check_internal_cooldown_ready(self, resource_type: str) -> bool:
    config = self.hp_config if resource_type == "hp" else self.mp_config
    current_time = time.time()
    last_press_time = self._flask_cooldowns.get(resource_type, 0)
    cooldown_seconds = config.get("cooldown", 5000) / 1000.0

    is_ready = current_time - last_press_time >= cooldown_seconds
    if not is_ready:
        remaining = cooldown_seconds - (current_time - last_press_time)
        LOG_INFO(f"[ResourceManager] {resource_type.upper()} å†·å´ä¸­ï¼Œå‰©ä½™: {remaining:.1f}ç§’")
    return is_ready
```

### åŠŸèƒ½ç‰¹æ€§

#### 1. ç°ä»£åŒ–é…ç½®ç•Œé¢

- **ç‹¬ç«‹ TAB é¡µ**ï¼šä¸“é—¨çš„"æ™ºèƒ½è¯å‰‚"é…ç½®æ ‡ç­¾é¡µ
- **HP/MP åˆ†ç¦»é…ç½®**ï¼šè¡€è¯å’Œè“è¯å®Œå…¨ç‹¬ç«‹çš„é…ç½®åŒºåŸŸ
- **1080P é»˜è®¤å€¼**ï¼šé’ˆå¯¹ 1080P å±å¹•ä¼˜åŒ–çš„é»˜è®¤åæ ‡å’Œé¢œè‰²å€¼
- **å…¨å±€è®¾ç½®**ï¼šå¯é…ç½®çš„æ£€æµ‹é—´éš”(50-1000ms)ï¼Œé»˜è®¤ 200ms

#### 2. é»˜è®¤é…ç½®ä¼˜åŒ– (1080P)

```
# è¡€è¯é»˜è®¤é…ç½®
hp_defaults = {
    "region": (136, 910, 213, 1004),    # 1080Pè¡€æ¡åŒºåŸŸ
    "hsv": (314, 75, 29),               # è¡€è¯é¢œè‰²HSV
    "tolerance": (10, 20, 20),          # é¢œè‰²å®¹å·®
    "threshold": 50,                    # 50%è§¦å‘é˜ˆå€¼
    "cooldown": 5000,                   # 5ç§’å†·å´
    "key": "1"                          # é»˜è®¤æŒ‰é”®
}

# è“è¯é»˜è®¤é…ç½®
mp_defaults = {
    "region": (1552, 910, 1560, 1004), # 1080Pè“æ¡åŒºåŸŸ
    "hsv": (208, 80, 58),               # è“è¯é¢œè‰²HSV
    "tolerance": (7, 5, 5),             # æ›´ä¸¥æ ¼çš„å®¹å·®
    "threshold": 50,                    # 50%è§¦å‘é˜ˆå€¼
    "cooldown": 8000,                   # 8ç§’å†·å´
    "key": "2"                          # é»˜è®¤æŒ‰é”®
}
```

#### 3. åŒºåŸŸé€‰æ‹©å·¥å…·

- **ç•Œé¢éšè—**ï¼šç‚¹å‡»"ğŸ“¦ é€‰æ‹©åŒºåŸŸ"æŒ‰é’®æ—¶ä¸»ç•Œé¢è‡ªåŠ¨éšè—
- **å…¨å±æ“ä½œ**ï¼šæ˜¾ç¤ºå…¨å±åŒºåŸŸé€‰æ‹©å¯¹è¯æ¡†
- **æ‹–æ‹½é€‰æ‹©**ï¼šé¼ æ ‡æ‹–æ‹½é€‰æ‹©æ£€æµ‹åŒºåŸŸ
- **åæ ‡éªŒè¯**ï¼šè‡ªåŠ¨éªŒè¯åæ ‡èŒƒå›´å’Œè¾¹ç•Œ
- **æ— ç¼æ¢å¤**ï¼šæ“ä½œå®Œæˆåä¸»ç•Œé¢è‡ªåŠ¨é‡æ–°æ˜¾ç¤º

#### 4. é¢œè‰²æ‹¾å–å·¥å…·

- **æ”¾å¤§é•œæ•ˆæœ**ï¼š4 å€æ”¾å¤§æ˜¾ç¤ºé¼ æ ‡ä½ç½®åƒç´ 
- **å®æ—¶ HSV æ˜¾ç¤º**ï¼šæ˜¾ç¤ºå½“å‰åƒç´ çš„ HSV å€¼
- **åå­—çº¿å®šä½**ï¼šå±å¹•åå­—çº¿æŒ‡ç¤ºæ‹¾å–ä½ç½®
- **ä¸€é”®æ‹¾å–**ï¼šç‚¹å‡»å³å¯æ‹¾å–å¹¶è‡ªåŠ¨è®¾ç½®å®¹å·®èŒƒå›´
- **é¢œè‰²é¢„è§ˆ**ï¼šå®æ—¶æ˜¾ç¤ºæ‹¾å–çš„é¢œè‰²æ•ˆæœ

#### 5. æˆ˜æ–—æ¨¡å¼é›†æˆ

- **F8 å¯åŠ¨**ï¼šæŒ‰ F8 è¿›å…¥æˆ˜æ–—æ¨¡å¼ï¼ŒResourceManager è‡ªåŠ¨å¯åŠ¨
- **ç»Ÿä¸€è°ƒåº¦**ï¼šç”± SkillManager æ¯ 200ms è°ƒç”¨ä¸€æ¬¡æ£€æµ‹
- **å¸§å¤ç”¨**ï¼šå¤ç”¨ SkillManager çš„å±å¹•å¸§æ•°æ®ï¼Œé¿å…é‡å¤æ•è·
- **çŠ¶æ€åŒæ­¥**ï¼šä¸æˆ˜æ–—ç³»ç»Ÿå®Œå…¨åŒæ­¥ï¼Œæ”¯æŒæš‚åœ/æ¢å¤

### æŠ€æœ¯äº®ç‚¹

#### 1. è¢«åŠ¨å¼æ¶æ„è®¾è®¡

- **æ— ç‹¬ç«‹çº¿ç¨‹**ï¼šResourceManager ä¸åˆ›å»ºç‹¬ç«‹çº¿ç¨‹ï¼Œé¿å…èµ„æºç«äº‰
- **ç»Ÿä¸€è°ƒåº¦**ï¼šç”± SkillManager ç»Ÿä¸€è°ƒåº¦ï¼Œç¡®ä¿æ—¶åºä¸€è‡´æ€§
- **å¸§æ•°æ®å¤ç”¨**ï¼šå¤ç”¨å·²æ•è·çš„å±å¹•å¸§ï¼Œæé«˜æ€§èƒ½
- **çŠ¶æ€ç®¡ç†**ï¼šå®Œæ•´çš„å¯åŠ¨/æš‚åœ/åœæ­¢çŠ¶æ€ç®¡ç†

#### 2. é…ç½®åˆ†ç¦»ä¸é»˜è®¤å€¼

- **é…ç½®ç‹¬ç«‹**ï¼šresource é…ç½®å®Œå…¨ç‹¬ç«‹äº skill é…ç½®
- **é»˜è®¤å€¼å®Œå–„**ï¼šç©ºé…ç½®æ—¶è‡ªåŠ¨ä½¿ç”¨ 1080P ä¼˜åŒ–çš„é»˜è®¤å€¼
- **UI åŒæ­¥**ï¼šé…ç½®åŠ è½½æ—¶ UI æ§ä»¶è‡ªåŠ¨åŒæ­¥æ˜¾ç¤º
- **å‘åå…¼å®¹**ï¼šæ”¯æŒæ—§é…ç½®æ ¼å¼çš„è‡ªåŠ¨è¿ç§»

#### 3. æ€§èƒ½ä¼˜åŒ–è®¾è®¡

- **åŒºåŸŸæ£€æµ‹**ï¼šåªæ£€æµ‹æŒ‡å®šçš„å°åŒºåŸŸï¼Œé¿å…å…¨å±å¤„ç†
- **HSV ä¼˜åŒ–**ï¼šä½¿ç”¨ HSV é¢œè‰²ç©ºé—´ï¼Œå¯¹å…‰ç…§å˜åŒ–æ›´é²æ£’
- **æ™ºèƒ½ç¼“å­˜**ï¼šç¼“å­˜è®¡ç®—ç»“æœï¼Œå‡å°‘é‡å¤è¿ç®—
- **è¾¹ç•Œæ£€æŸ¥**ï¼šå®Œæ•´çš„åæ ‡è¾¹ç•Œæ£€æŸ¥å’Œé”™è¯¯å¤„ç†

#### 4. ç”¨æˆ·ä½“éªŒä¼˜åŒ–

- **å¼€ç®±å³ç”¨**ï¼šé»˜è®¤é…ç½®é€‚ç”¨äºå¤§å¤šæ•° 1080P ç”¨æˆ·
- **å¯è§†åŒ–é…ç½®**ï¼šç›´è§‚çš„åŒºåŸŸé€‰æ‹©å’Œé¢œè‰²æ‹¾å–å·¥å…·
- **å®æ—¶åé¦ˆ**ï¼šè¯¦ç»†çš„æ—¥å¿—è¾“å‡ºå’ŒçŠ¶æ€æ˜¾ç¤º
- **é”™è¯¯å¤„ç†**ï¼šå®Œå–„çš„é”™è¯¯å¤„ç†å’Œç”¨æˆ·æç¤º

### ä½¿ç”¨æµç¨‹

#### é…ç½®é˜¶æ®µ

1. **å¯åŠ¨ç¨‹åº**ï¼šè¿è¡Œ main.py è¿›å…¥ GUI ç•Œé¢
2. **é€‰æ‹© TAB**ï¼šç‚¹å‡»"æ™ºèƒ½è¯å‰‚"TAB è¿›å…¥é…ç½®
3. **ä½¿ç”¨é»˜è®¤å€¼**ï¼š1080P ç”¨æˆ·å¯ç›´æ¥ä½¿ç”¨é»˜è®¤é…ç½®
4. **è‡ªå®šä¹‰é…ç½®**ï¼šæ ¹æ®éœ€è¦è°ƒæ•´åŒºåŸŸã€é¢œè‰²ã€é˜ˆå€¼ç­‰å‚æ•°
5. **å…¨å±€è®¾ç½®**ï¼šè°ƒæ•´æ£€æµ‹é—´éš”ï¼ˆé»˜è®¤ 200msï¼‰

#### æˆ˜æ–—é˜¶æ®µ

1. **è¿›å…¥æ¸¸æˆ**ï¼šå¯åŠ¨ç›®æ ‡æ¸¸æˆ
2. **å¯åŠ¨è¾…åŠ©**ï¼šæŒ‰ F8 è¿›å…¥æˆ˜æ–—æ¨¡å¼
3. **è‡ªåŠ¨æ£€æµ‹**ï¼šç³»ç»Ÿæ¯ 200ms æ£€æµ‹ä¸€æ¬¡èµ„æºçŠ¶æ€
4. **æ™ºèƒ½å–è¯**ï¼šä½äºé˜ˆå€¼ä¸”å†·å´å®Œæˆæ—¶è‡ªåŠ¨æŒ‰é”®
5. **é€€å‡ºè¾…åŠ©**ï¼šå†æ¬¡æŒ‰ F8 é€€å‡ºæˆ˜æ–—æ¨¡å¼

### é…ç½®ç¤ºä¾‹

```
{
  "resource_management": {
    "hp_config": {
      "enabled": true,
      "key": "1",
      "threshold": 50,
      "cooldown": 5000,
      "region_x1": 136,
      "region_y1": 910,
      "region_x2": 213,
      "region_y2": 1004,
      "target_h": 314,
      "target_s": 75,
      "target_v": 29,
      "tolerance_h": 10,
      "tolerance_s": 20,
      "tolerance_v": 20
    },
    "mp_config": {
      "enabled": true,
      "key": "2",
      "threshold": 50,
      "cooldown": 8000,
      "region_x1": 1552,
      "region_y1": 910,
      "region_x2": 1560,
      "region_y2": 1004,
      "target_h": 208,
      "target_s": 80,
      "target_v": 58,
      "tolerance_h": 7,
      "tolerance_s": 5,
      "tolerance_v": 5
    },
    "check_interval": 200
  }
}
```

## æŠ€èƒ½é…ç½®ç³»ç»Ÿä¼˜åŒ– (å·²å®Œæˆ)

ä¸ºäº†æé«˜ç³»ç»Ÿçš„å‡†ç¡®æ€§å’Œå¯ç»´æŠ¤æ€§ï¼Œæˆ‘ä»¬å¯¹æŠ€èƒ½é…ç½®ç³»ç»Ÿè¿›è¡Œäº†å…¨é¢çš„æ¸…ç†å’Œä¼˜åŒ–ï¼š

### è§¦å‘æ¨¡å¼ç®€åŒ–

- **ç§»é™¤æœªå®ç°åŠŸèƒ½**: å½»åº•ç§»é™¤äº†`TriggerMode = 2`ï¼ˆå†…éƒ¨å†·å´æ¨¡å¼ï¼‰å’Œç›¸å…³çš„`InternalCooldown`å­—æ®µ
- **åŒæ¨¡å¼è®¾è®¡**: ç°åœ¨åªæ”¯æŒä¸¤ç§å®é™…å·¥ä½œçš„è§¦å‘æ¨¡å¼ï¼š
  - `TriggerMode = 0`: **å®šæ—¶æ¨¡å¼** - åŸºäºå›ºå®šæ—¶é—´é—´éš”æ‰§è¡ŒæŠ€èƒ½
  - `TriggerMode = 1`: **å†·å´æ¨¡å¼** - åŸºäºæŠ€èƒ½å›¾æ ‡å†·å´çŠ¶æ€æ‰§è¡ŒæŠ€èƒ½

### é…ç½®åˆ†ç¦»ä¼˜åŒ–

- **Resource é…ç½®ç‹¬ç«‹**: æ™ºèƒ½è¯å‰‚åŠŸèƒ½çš„é…ç½®å®Œå…¨ç‹¬ç«‹äºæŠ€èƒ½é…ç½®
- **UI ç•Œé¢åˆ†ç¦»**: æŠ€èƒ½é…ç½®ç•Œé¢ç§»é™¤äº† resource ç›¸å…³å­—æ®µï¼Œæ·»åŠ å‹å¥½æç¤ºæŒ‡å‘"æ™ºèƒ½è¯å‰‚"æ ‡ç­¾é¡µ
- **é…ç½®ç»“æ„æ¸…æ™°**: é¿å…äº†é…ç½®æ··ä¹±å’Œå­—æ®µå†²çª

### ä»£ç æ¸…ç†æˆæœ

```
# ç®€åŒ–åçš„æŠ€èƒ½é…ç½®ç»“æ„
{
  "Enabled": true,
  "Priority": false,
  "Timer": 1000,
  "TriggerMode": 0,  // 0=å®šæ—¶, 1=å†·å´ (2å·²ç§»é™¤)
  "CooldownCoordX": 0,
  "CooldownCoordY": 0,
  "CooldownSize": 12,
  "ExecuteCondition": 0,
  "AltKey": ""
  // "InternalCooldown": å·²ç§»é™¤
}
```

### ç”¨æˆ·ä½“éªŒæ”¹è¿›

- **é…ç½®æ›´å‡†ç¡®**: ä¸ä¼šäº§ç”Ÿæ— æ•ˆçš„é…ç½®é¡¹
- **ç•Œé¢æ›´æ¸…æ™°**: åªæ˜¾ç¤ºå®é™…å¯ç”¨çš„é€‰é¡¹
- **ç»´æŠ¤æ›´å®¹æ˜“**: å‡å°‘äº†æ··æ·†å’Œé”™è¯¯é…ç½®çš„å¯èƒ½æ€§

## æ¶æ„è®¾è®¡

æœ¬å·¥å…·é‡‡ç”¨åˆ†å±‚å’Œæ¨¡å—åŒ–çš„è®¾è®¡ï¼Œå…¶æ ¸å¿ƒç»„ä»¶å’ŒèŒè´£å¦‚ä¸‹ï¼š

- **`MacroEngine` (å®å¼•æ“)**: ä½œä¸ºé¡¹ç›®çš„**çŠ¶æ€ä¸äº‹ä»¶åè°ƒä¸­å¿ƒ**ã€‚å®ƒè´Ÿè´£ç®¡ç†ç¨‹åºçš„æ ¸å¿ƒçŠ¶æ€ï¼Œå¹¶ä½œä¸º**èµ„æºè°ƒåº¦ä¸­å¿ƒ**ï¼Œæ ¹æ®å½“å‰æ¨¡å¼ï¼ˆæˆ˜æ–—ã€æ´—ç»ƒã€å¯»è·¯ï¼‰åŠ¨æ€æŒ‡æŒ¥åº•å±‚æ•è·æ¨¡å—åˆ‡æ¢æœ€é«˜æ•ˆçš„å·¥ä½œæ¨¡å¼ã€‚
- **`SkillManager` (æŠ€èƒ½ç®¡ç†å™¨)**: **æŠ€èƒ½å†³ç­–å¼•æ“**ã€‚å®ƒè®¢é˜…é…ç½®æ›´æ–°äº‹ä»¶ï¼Œå°†ç”¨æˆ·é…ç½®ç¿»è¯‘æˆå…·ä½“çš„ã€å¯æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¹¶åˆ©ç”¨å…¶å†…éƒ¨çš„ `UnifiedScheduler` å®ä¾‹è¿›è¡Œè°ƒåº¦ã€‚
- **`SimpleAffixRerollManager` (æ™ºèƒ½æ´—ç»ƒç®¡ç†å™¨)**: **è£…å¤‡æ´—ç»ƒå¼•æ“**ã€‚ä¸€ä¸ªå®Œå…¨ç‹¬ç«‹çš„æ¨¡å—ï¼Œåœ¨è‡ªå·±çš„çº¿ç¨‹ä¸­è¿è¡Œï¼Œè´Ÿè´£æ‰§è¡Œæ‰€æœ‰ä¸è£…å¤‡æ´—ç»ƒç›¸å…³çš„è‡ªåŠ¨åŒ–æµç¨‹ã€‚
- **`PathfindingManager` (å¯»è·¯ç®¡ç†å™¨)**: **è‡ªåŠ¨å¯»è·¯å¼•æ“**ã€‚é‡‡ç”¨ç»Ÿä¸€çŠ¶æ€ç®¡ç†æ¶æ„ï¼Œç”±`MacroEngine`ç»Ÿä¸€è°ƒåº¦å¯åœã€æš‚åœå’Œæ¢å¤ã€‚åœ¨ç‹¬ç«‹çš„çº¿ç¨‹ä¸­è¿è¡Œï¼ŒæŒç»­åœ°ä»`BorderFrameManager`è·å–å±å¹•æ•°æ®ï¼Œé€šè¿‡å›¾åƒå¤„ç†æ¥è§£è¯»å°åœ°å›¾ï¼Œåˆ©ç”¨ç›¸ä½ç›¸å…³æŠ€æœ¯è¿½è¸ªåœ°å›¾ä½ç§»ï¼Œå¹¶å°†æ¢ç´¢åˆ°çš„åœ°å›¾æ‹¼æ¥æˆä¸€å¼ å®Œæ•´çš„å…¨å±€åœ°å›¾ã€‚æ”¯æŒåŒæ¨¡å¼è¿è¡Œï¼ˆæ¢ç´¢æ¨¡å¼å’Œå¯»è·¯æ¨¡å¼ï¼‰ã€å®æ—¶ç›®æ ‡è¯†åˆ«å’Œ A\*è·¯å¾„è§„åˆ’ã€‚
- **`InputHandler` (è¾“å…¥å¤„ç†å™¨)**: **è¾“å…¥æ‰§è¡Œä¸é˜Ÿåˆ—ç®¡ç†ä¸­å¿ƒ**ã€‚å®ƒå°è£…äº†é”®ç›˜å’Œé¼ æ ‡çš„æ¨¡æ‹Ÿè¾“å…¥æ“ä½œï¼Œå¹¶ç‹¬ç«‹ç®¡ç†ä¸€ä¸ªæŒ‰é”®é˜Ÿåˆ—ã€‚
- **`UnifiedScheduler` (ç»Ÿä¸€è°ƒåº¦å™¨)**: é¡¹ç›®å®šæ—¶ä»»åŠ¡çš„å¿ƒè„ã€‚ä¸€ä¸ªåŸºäº`heapq`çš„å•çº¿ç¨‹å¾ªç¯ï¼Œèƒ½å¤Ÿé«˜æ•ˆã€ç²¾ç¡®åœ°ç®¡ç†æˆç™¾ä¸Šåƒä¸ªä¸åŒé—´éš”çš„å®šæ—¶ä»»åŠ¡ã€‚
- **`ResourceManager` (èµ„æºç®¡ç†å™¨)**: æ™ºèƒ½è¯å‰‚åŠ©æ‰‹çš„æ ¸å¿ƒã€‚è¢«åŠ¨å¼èµ„æºæ£€æµ‹æ¨¡å—ï¼Œç”± SkillManager ç»Ÿä¸€è°ƒåº¦ï¼Œæ”¯æŒ HP/MP çš„ç²¾ç¡®é¢œè‰²æ£€æµ‹å’Œè‡ªåŠ¨å–è¯åŠŸèƒ½ã€‚é‡‡ç”¨ HSV é¢œè‰²ç©ºé—´åŒ¹é…æŠ€æœ¯ï¼Œå®ç°åƒç´ çº§ç²¾ç¡®è¯†åˆ«ï¼Œæ”¯æŒå†…éƒ¨å†·å´æœºåˆ¶é˜²æ­¢è¯æ°´æµªè´¹ã€‚å†…ç½® 1080P ä¼˜åŒ–çš„é»˜è®¤é…ç½®ã€‚
- **`BorderFrameManager` (è¾¹æ¡†å›¾ç®¡ç†å™¨)**: ä¸€ä¸ª**çµæ´»çš„å¸§æœåŠ¡**ï¼Œèƒ½å¤Ÿæ ¹æ® `MacroEngine` çš„æŒ‡ä»¤ï¼Œåœ¨â€œå…¨å±æ•è·â€å’Œâ€œæŒ‡å®šåŒºåŸŸæ•è·â€ä¹‹é—´åŠ¨æ€åˆ‡æ¢ï¼Œå¹¶ä¸ºä¸Šå±‚æ¨¡å—æä¾›æŒ‰éœ€åˆ†å‰²çš„å¸§æ•°æ®åˆ‡ç‰‡ã€‚
- **`NativeGraphicsCaptureManager` (åŸç”Ÿå›¾å½¢æ•è·ç®¡ç†å™¨)**: å°è£… C++æ•è·åº“ï¼Œæä¾›é«˜æ€§èƒ½çš„å±å¹•æ•è·æœåŠ¡ã€‚æ”¯æŒå…¨å±æˆ–æŒ‡å®šåŒºåŸŸæ•è·ï¼Œé‡‡ç”¨é›¶æ‹·è´æŠ€æœ¯å’Œæ™ºèƒ½å¸§ç‡æ§åˆ¶ã€‚
- **`EventBus` (äº‹ä»¶æ€»çº¿)**: åŸºäºå‘å¸ƒ/è®¢é˜…æ¨¡å¼ï¼Œå®ç°å„æ¨¡å—é—´çš„å¼‚æ­¥é€šä¿¡ï¼Œæ”¯æŒ ThreadPoolExecutor ä¼˜åŒ–çš„äº‹ä»¶å¤„ç†ï¼Œæ˜¯æ•´ä¸ªæ¶æ„çš„ç¥ç»ä¸­æ¢ã€‚åŒ…å«é€’å½’äº‹ä»¶æ£€æµ‹å’Œæ€§èƒ½ç›‘æ§åŠŸèƒ½ã€‚
- **`ConfigManager` (é…ç½®ç®¡ç†å™¨)**: è´Ÿè´£é…ç½®æ–‡ä»¶çš„åŠ è½½ã€ä¿å­˜å’Œç®¡ç†ã€‚æ”¯æŒ JSON æ ¼å¼é…ç½®æ–‡ä»¶çš„è¯»å†™æ“ä½œã€‚
- **`PaddleOcrManager` (OCR ç®¡ç†å™¨)**: ä¸€ä¸ªå·¥å…·ç±»ï¼Œè´Ÿè´£ç®¡ç† PaddleOCR å¼•æ“çš„ç”Ÿå‘½å‘¨æœŸï¼Œé‡‡ç”¨æŒ‰éœ€åŠ è½½å’Œæ€§èƒ½ä¼˜åŒ–é…ç½®ã€‚æ”¯æŒå¼‚æ­¥åˆå§‹åŒ–å’Œé”™è¯¯å¤„ç†ã€‚
- **`HotkeyManager` (çƒ­é”®ç®¡ç†å™¨)**: åŸºäº Windows API çš„ä½çº§é”®ç›˜é’©å­ç®¡ç†å™¨ï¼Œæ”¯æŒçƒ­é”®çš„åŠ¨æ€æ³¨å†Œã€æ³¨é”€å’Œæ¡ä»¶æŠ‘åˆ¶ã€‚
- **`SoundManager` (å£°éŸ³ç®¡ç†å™¨)**: ç®¡ç†éŸ³é¢‘åé¦ˆçš„æ’­æ”¾ï¼Œä½¿ç”¨ winsound åº“å®ç°éé˜»å¡éŸ³é¢‘æ’­æ”¾ã€‚
- **`WindowUtils` (çª—å£å·¥å…·)**: æä¾›çª—å£æ£€æµ‹ã€æ¿€æ´»å’Œç®¡ç†åŠŸèƒ½ï¼Œæ”¯æŒè¿›ç¨‹åå’Œçª—å£ç±»åçš„æŸ¥æ‰¾ã€‚
- **`DebugLog` (è°ƒè¯•æ—¥å¿—)**: åŸºäºç¯å¢ƒå˜é‡çš„æ¡ä»¶æ—¥å¿—ç³»ç»Ÿï¼Œæ”¯æŒä¸åŒçº§åˆ«çš„æ—¥å¿—è¾“å‡ºã€‚

## ä½¿ç”¨æ–¹æ³•

1.  **å¯åŠ¨ç¨‹åº**:

    - **å®Œæ•´ç‰ˆæœ¬**: è¿è¡Œ `main.py`ï¼Œå¯åŠ¨åŒ…å«å®Œæ•´ GUI ç•Œé¢çš„ç‰ˆæœ¬ã€‚
    - **ç®€åŒ–ç‰ˆæœ¬**: è¿è¡Œ `main_special.py`ï¼Œå¯åŠ¨å‘½ä»¤è¡Œç‰ˆæœ¬ï¼ˆä¸“æ³¨äºç‰¹å®šè‡ªåŠ¨åŒ–ä»»åŠ¡ï¼Œéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰ã€‚

2.  **é…ç½®**: åœ¨"æŠ€èƒ½é…ç½®"ã€"ç›®æ ‡çª—å£"ã€"æ—¶é—´é—´éš”/å£°éŸ³"ã€"åŸåœ°æ¨¡å¼"ã€"æ´—ç»ƒ"ã€"å¯»è·¯"ã€"æ™ºèƒ½è¯å‰‚"ç­‰æ ‡ç­¾é¡µä¸­å®Œæˆæ‚¨çš„é…ç½®ã€‚æ”¯æŒåŠ è½½/ä¿å­˜ JSON æ ¼å¼çš„é…ç½®æ–‡ä»¶ã€‚

3.  **çƒ­é”®æ“ä½œ**:

    - **F8 (ä¸»æ§é”®)**: å‡†å¤‡/åœæ­¢**æŠ€èƒ½æ¨¡å¼**ï¼ˆåŒ…å«æ™ºèƒ½è¯å‰‚åŠŸèƒ½ï¼‰ã€‚
    - **F7 (æ´—ç»ƒé”®)**: å¯åŠ¨/åœæ­¢**è£…å¤‡æ´—ç»ƒæ¨¡å¼**ï¼ˆéœ€è¦å…ˆåŠ è½½ OCR å¼•æ“ï¼‰ã€‚
    - **F9 (å¯»è·¯é”®)**: å‡†å¤‡/åœæ­¢**è‡ªåŠ¨å¯»è·¯æ¨¡å¼**ã€‚
    - **Z (æ‰§è¡Œ/æš‚åœé”®)**: åœ¨"å‡†å¤‡"çŠ¶æ€ä¸‹ï¼ŒæŒ‰ä¸‹ Z é”®ï¼Œå¼€å§‹æ‰§è¡Œå¯¹åº”çš„ä»»åŠ¡ï¼ˆæŠ€èƒ½æˆ–å¯»è·¯ï¼‰ã€‚åœ¨"è¿è¡Œ"çŠ¶æ€ä¸‹ï¼ŒæŒ‰ä¸‹ Z é”®ï¼Œæš‚åœä»»åŠ¡ã€‚åœ¨"æš‚åœ"çŠ¶æ€ä¸‹ï¼Œå†æ¬¡æŒ‰ä¸‹ Z é”®ï¼Œæ¢å¤ä»»åŠ¡ã€‚
    - **åŸåœ°æ¨¡å¼çƒ­é”®**: å¯é…ç½®çš„çƒ­é”®ï¼Œç”¨äºåˆ‡æ¢åŸåœ°é‡Šæ”¾æŠ€èƒ½æ¨¡å¼ã€‚
    - **äº¤äº’/å¼ºåˆ¶ç§»åŠ¨é”®**: å¯é…ç½®çš„çƒ­é”®ï¼Œç”¨äºä¸´æ—¶å±è”½æŠ€èƒ½æ‰§è¡Œã€‚

4.  **ç‰¹æ®ŠåŠŸèƒ½**:
    - **åºåˆ—æ¨¡å¼**: æ”¯æŒæŒ‰é¢„è®¾é¡ºåºå¾ªç¯æ‰§è¡Œå¤šä¸ªæŠ€èƒ½ã€‚
    - **åŸåœ°æ¨¡å¼**: æ”¯æŒä¸¤ç§å®ç°æ–¹å¼ - Shift ä¿®é¥°ç¬¦æˆ–é˜»æ­¢é¼ æ ‡é”®ã€‚
    - **çª—å£æ¿€æ´»**: è‡ªåŠ¨æ£€æµ‹å¹¶æ¿€æ´»ç›®æ ‡æ¸¸æˆçª—å£ã€‚

## æŠ€æœ¯äº®ç‚¹

### 1. æ™ºèƒ½èµ„æºç®¡ç†

- **æƒ…æ™¯æ„ŸçŸ¥çš„æ•è·ç­–ç•¥**: ç¨‹åºèƒ½å¤Ÿæ ¹æ®å½“å‰ä»»åŠ¡ï¼ˆæˆ˜æ–—ã€å¯»è·¯ã€æ´—ç»ƒï¼‰çš„å®é™…éœ€æ±‚ï¼ŒåŠ¨æ€åˆ‡æ¢å±å¹•æ•è·æ¨¡å¼ã€‚åœ¨éœ€è¦å¤§èŒƒå›´è§†é‡æ—¶ï¼ˆå¯»è·¯/æˆ˜æ–—ï¼‰è‡ªåŠ¨åˆ‡æ¢ä¸ºå…¨å±æ•è·ï¼Œåœ¨éœ€è¦æè‡´ OCR é€Ÿåº¦æ—¶ï¼ˆæ´—ç»ƒï¼‰åˆ‡æ¢ä¸ºå°èŒƒå›´ UI åŒºåŸŸæ•è·ï¼Œåœ¨ç©ºé—²æ—¶åˆ™å®Œå…¨åœæ­¢æ•è·ï¼Œæœ€å¤§é™åº¦åœ°å¹³è¡¡äº†æ€§èƒ½å¼€é”€ä¸åŠŸèƒ½éœ€æ±‚ã€‚

### 2. ç°ä»£åŒ–çš„ UI ä¸æ ¸å¿ƒæ¶æ„

- **äº‹ä»¶é©±åŠ¨è®¾è®¡**: æ‰€æœ‰æ ¸å¿ƒç»„ä»¶é€šè¿‡ä¸­å¤®äº‹ä»¶æ€»çº¿è¿›è¡Œæ¾è€¦åˆé€šä¿¡ï¼Œé€»è¾‘æ¸…æ™°ï¼Œæ˜“äºæ‰©å±•ã€‚æ”¯æŒå¼‚æ­¥äº‹ä»¶å¤„ç†å’Œé€’å½’äº‹ä»¶æ£€æµ‹ã€‚
- **ç»Ÿä¸€çŠ¶æ€æœºæ¶æ„**: é‡‡ç”¨é©æ–°çš„ä¸¤æ­¥å¼æ“ä½œæ¨¡å¼ï¼Œæ‰€æœ‰åŠŸèƒ½æ¨¡å¼ï¼ˆæŠ€èƒ½ã€æ´—ç»ƒã€å¯»è·¯ï¼‰éƒ½éµå¾ª STOPPEDâ†’READYâ†’RUNNINGâ†’PAUSED çš„ç»Ÿä¸€çŠ¶æ€æµè½¬ï¼Œç¡®ä¿ç”¨æˆ·ä½“éªŒä¸€è‡´æ€§å’Œæ“ä½œå®‰å…¨æ€§ã€‚
- **æ¸…æ™°çš„æ¨¡å—åŒ– UI**: UI å±‚ç»è¿‡é‡æ„ï¼Œå°†ä¸»çª—å£ã€å„ç±»é…ç½®ç»„ä»¶å’Œè‡ªå®šä¹‰æ§ä»¶å®Œå…¨åˆ†ç¦»ï¼Œæå¤§åœ°æå‡äº†ä»£ç çš„å¯è¯»æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚ä½¿ç”¨ PySide6 æ„å»ºç°ä»£åŒ–ç•Œé¢ã€‚
- **çº¿ç¨‹å®‰å…¨çš„ UI æ›´æ–°**: å€ŸåŠ© `QTimer`ï¼Œæ‰€æœ‰æ¥è‡ªåå°çº¿ç¨‹çš„ UI æ›´æ–°è¯·æ±‚éƒ½ä¼šè¢«å®‰å…¨åœ°è°ƒåº¦åˆ°ä¸»çº¿ç¨‹æ‰§è¡Œï¼Œæœç»äº†å¤šçº¿ç¨‹ UI æ“ä½œå¯¼è‡´çš„å´©æºƒé£é™©ã€‚
- **æ™ºèƒ½è¾“å…¥å¤„ç†**: InputHandler é‡‡ç”¨é˜Ÿåˆ—æœºåˆ¶å’Œçº¿ç¨‹æ± ï¼Œç¡®ä¿è¾“å…¥æ“ä½œçš„é«˜æ•ˆæ‰§è¡Œå’ŒçŠ¶æ€åŒæ­¥ã€‚

### 3. é«˜æ€§èƒ½ä¸é«˜æ•ˆç‡

- **é›¶æ‹·è´å±å¹•æ•è·**: åŸºäº C++å’Œ Windows Graphics Capture APIï¼Œä»æ ¹æœ¬ä¸Šæ¶ˆé™¤äº†å†…å­˜æ‹·è´å¼€é”€ã€‚Python å±‚é€šè¿‡ ctypes ç›´æ¥è®¿é—® C++å†…å­˜ç¼“å†²åŒºã€‚
- **é«˜æ•ˆçš„ä»»åŠ¡è°ƒåº¦**: ä½¿ç”¨åŸºäº `heapq` çš„å•çº¿ç¨‹ç»Ÿä¸€è°ƒåº¦å™¨ï¼Œä»¥æä½çš„èµ„æºå¼€é”€ç²¾ç¡®ç®¡ç†æ‰€æœ‰å®šæ—¶ä»»åŠ¡ã€‚æ”¯æŒä»»åŠ¡çš„åŠ¨æ€æ·»åŠ ã€ç§»é™¤å’Œé—´éš”æ›´æ–°ã€‚
- **"ä¸€æ¬¡æ•è·ï¼Œå¤šæ¬¡ä½¿ç”¨"**: å›¾åƒå¸§åœ¨å†…å­˜ä¸­è¢«å¤ç”¨ï¼Œé¿å…äº†é‡å¤æˆªå›¾å¸¦æ¥çš„ CPU æ€§èƒ½æŸè€—ã€‚BorderFrameManager è´Ÿè´£å¸§æ•°æ®çš„ç»Ÿä¸€ç®¡ç†å’Œåˆ†å‘ã€‚
- **æ™ºèƒ½ç¼“å­˜æœºåˆ¶**: æ¨¡æ¿ç¼“å­˜å’Œè¿›ç¨‹ç¼“å­˜å‡å°‘é‡å¤è®¡ç®—ï¼Œå¸¦å†…å­˜é™åˆ¶å’Œè‡ªåŠ¨æ¸…ç†åŠŸèƒ½ã€‚

### 4. ç¨³å¥æ€§ä¸å…¼å®¹æ€§

- **ç¨³å¥çš„é”™è¯¯å¤„ç†**: åœ¨æ‰€æœ‰å…³é”®è·¯å¾„ä¸Šéƒ½æ·»åŠ äº†è¯¦ç»†çš„é”™è¯¯æ—¥å¿—ï¼Œå‘Šåˆ«"é™é»˜å¤±è´¥"ï¼Œä¾¿äºå¿«é€Ÿå®šä½é—®é¢˜ã€‚æ”¯æŒ DEBUG ç¯å¢ƒå˜é‡æ§åˆ¶æ—¥å¿—è¾“å‡ºçº§åˆ«ã€‚
- **ä¾èµ–ç‰ˆæœ¬ç®¡ç†**: åœ¨ `requirements.txt` ä¸­æ˜ç¡®æŒ‡å®šä¾èµ–ç‰ˆæœ¬ï¼Œä¿è¯äº†å¼€å‘å’Œéƒ¨ç½²ç¯å¢ƒçš„ä¸€è‡´æ€§ä¸å¯å¤ç°æ€§ã€‚åŒ…å« PySide6ã€OpenCVã€PaddleOCR ç­‰æ ¸å¿ƒä¾èµ–ã€‚
- **æŒ‰éœ€åŠ è½½**: OCR ç­‰é‡èµ„æºæ¨¡å—æŒ‰éœ€åŠ è½½ï¼Œä¼˜åŒ–äº†ç¨‹åºçš„å¯åŠ¨é€Ÿåº¦å’Œèµ„æºå ç”¨ã€‚æ”¯æŒå¼‚æ­¥åˆå§‹åŒ–å’Œé”™è¯¯æ¢å¤ã€‚
- **é…ç½®æ¸…ç†ä¸ç®€åŒ–**: ç§»é™¤äº†æœªå®ç°çš„åŠŸèƒ½ï¼ˆå¦‚ InternalCooldownï¼‰ï¼Œç®€åŒ–äº†æŠ€èƒ½è§¦å‘æ¨¡å¼ä¸ºå®šæ—¶(Timer)å’Œå†·å´(Cooldown)ä¸¤ç§ï¼Œæé«˜äº†é…ç½®çš„å‡†ç¡®æ€§å’Œå¯ç»´æŠ¤æ€§ã€‚
- **è·¨å¹³å°å…¼å®¹æ€§**: ä¸»è¦é’ˆå¯¹ Windows å¹³å°è®¾è®¡ï¼Œä½¿ç”¨ Windows API å®ç°åº•å±‚åŠŸèƒ½ï¼ŒåŒæ—¶ä¿æŒ Python å±‚çš„å¹³å°æ— å…³æ€§ã€‚

### 5. æ™ºèƒ½å¯»è·¯ä¸æ¢ç´¢æŠ€æœ¯

- **å…ˆè¿›çš„åœ°å›¾æ‹¼æ¥æŠ€æœ¯**: é‡‡ç”¨`cv2.phaseCorrelate`ç›¸ä½ç›¸å…³ç®—æ³•ï¼Œå®ç°äº†äºšåƒç´ çº§ç²¾åº¦çš„åœ°å›¾ä½ç§»è¿½è¸ªï¼Œç¡®ä¿å…¨å±€åœ°å›¾çš„é«˜ç²¾åº¦æ‹¼æ¥ã€‚æ”¯æŒåŠ¨æ€åœ°å›¾æ›´æ–°å’Œå†…å­˜ä¼˜åŒ–ã€‚
- **é«˜æ•ˆçš„ A\*è·¯å¾„è§„åˆ’**: å®ç°äº†æ”¯æŒ 8 æ–¹å‘ç§»åŠ¨çš„ A\*ç®—æ³•ï¼Œæ”¯æŒåŠ¨æ€åœ°å›¾æ›´æ–°å’Œå®æ—¶è·¯å¾„é‡è§„åˆ’ï¼Œç¡®ä¿æ‰¾åˆ°æœ€ä¼˜è·¯å¾„ã€‚ä½¿ç”¨ Node ç±»å’Œ heapq å®ç°é«˜æ•ˆçš„ä¼˜å…ˆçº§é˜Ÿåˆ—ã€‚
- **æ™ºèƒ½åŒæ¨¡å¼åˆ‡æ¢**: åœ¨æ¢ç´¢æ¨¡å¼ä¸‹é‡‡ç”¨ Z å­—å½¢éå†ç®—æ³•ï¼ˆ"é™¤è‰æœº"æ¨¡å¼ï¼‰ï¼Œä¸€æ—¦å‘ç°ç›®æ ‡å³åˆ»åˆ‡æ¢åˆ°å¯»è·¯æ¨¡å¼ï¼Œå®ç°é«˜æ•ˆçš„è‡ªä¸»æ¢ç´¢å’Œç²¾ç¡®å¯»è·¯ã€‚
- **å®æ—¶ç›®æ ‡è¯†åˆ«**: é€šè¿‡ HSV é¢œè‰²ç©ºé—´è¿‡æ»¤å’Œè½®å»“æ£€æµ‹ï¼Œå®ç°äº†å¯¹æ¸¸æˆä¸­ç‰¹å®šç›®æ ‡ï¼ˆå¦‚ä»»åŠ¡ç‚¹ã€ä¼ é€é—¨ï¼‰çš„å®æ—¶è¯†åˆ«å’Œå®šä½ã€‚æ”¯æŒäº®è“è‰²ç›®æ ‡çš„è‡ªåŠ¨æ£€æµ‹ã€‚
- **å…¨å±€åœ°å›¾ç®¡ç†**: ä½¿ç”¨ 5000x5000 åƒç´ çš„ numpy æ•°ç»„ç»´æŠ¤å…¨å±€åœ°å›¾ï¼Œæ”¯æŒç©å®¶ä½ç½®è¿½è¸ªå’Œåœ°å›¾åŒºåŸŸçš„åŠ¨æ€æ‹¼æ¥ã€‚

### 6. æ™ºèƒ½è¯å‰‚æŠ€æœ¯

- **HSV ç²¾ç¡®é¢œè‰²åŒ¹é…**: é‡‡ç”¨ HSV é¢œè‰²ç©ºé—´å®ç°åƒç´ çº§ç²¾ç¡®åŒ¹é…ï¼Œæ”¯æŒä»»æ„é¢œè‰²çš„æ™ºèƒ½è¯†åˆ«ã€‚æ¯ä¸ªç»´åº¦ç‹¬ç«‹è®¾ç½®å®¹å·®èŒƒå›´ï¼ŒQt è‰²ç›¸å€¼è‡ªåŠ¨è½¬æ¢ä¸º OpenCV æ ¼å¼ï¼Œç¡®ä¿ç²¾ç¡®æ£€æµ‹ã€‚
- **è¢«åŠ¨å¼æ£€æµ‹æ¶æ„**: ç”± SkillManager ç»Ÿä¸€è°ƒåº¦ï¼Œé¿å…ç‹¬ç«‹çº¿ç¨‹å¼€é”€ã€‚å¤ç”¨å±å¹•å¸§æ•°æ®ï¼Œæé«˜æ•´ä½“æ€§èƒ½ã€‚æ”¯æŒå®Œæ•´çš„çŠ¶æ€ç®¡ç†ï¼ˆå¯åŠ¨/æš‚åœ/åœæ­¢ï¼‰ã€‚
- **åŒºåŸŸèµ„æºç™¾åˆ†æ¯”è®¡ç®—**: é€šè¿‡è®¡ç®—æ£€æµ‹åŒºåŸŸå†…åŒ¹é…é¢œè‰²åƒç´ çš„ç™¾åˆ†æ¯”ï¼Œå®ç°ç²¾ç¡®çš„èµ„æºé‡ä¼°ç®—ã€‚æ”¯æŒåŠ¨æ€é˜ˆå€¼è®¾ç½®å’Œè¾¹ç•Œæ£€æŸ¥ï¼Œé¿å…è¯¯è§¦å‘ã€‚
- **å†…éƒ¨å†·å´æœºåˆ¶**: å®ç°è¯æ°´ä½¿ç”¨é—´éš”æ§åˆ¶ï¼Œé˜²æ­¢è¿ç»­æŒ‰é”®æµªè´¹è¯æ°´ã€‚æ”¯æŒ HP å’Œ MP ç‹¬ç«‹å†·å´æ—¶é—´è®¾ç½®ï¼Œå¸¦è¯¦ç»†çš„å†·å´çŠ¶æ€æ—¥å¿—ã€‚
- **1080P ä¼˜åŒ–é…ç½®**: å†…ç½®é’ˆå¯¹ 1080P å±å¹•ä¼˜åŒ–çš„é»˜è®¤åæ ‡å’Œé¢œè‰²å€¼ã€‚ç©ºé…ç½®æ—¶è‡ªåŠ¨ä½¿ç”¨é»˜è®¤å€¼ï¼Œç¡®ä¿å¼€ç®±å³ç”¨çš„ä½“éªŒã€‚
- **é…ç½®åˆ†ç¦»è®¾è®¡**: resource é…ç½®å®Œå…¨ç‹¬ç«‹äº skill é…ç½®ï¼Œé¿å…é…ç½®æ··ä¹±ã€‚æ”¯æŒé…ç½®çš„éƒ¨åˆ†æ›´æ–°å’Œå‘åå…¼å®¹ã€‚
- **ç•Œé¢éšè—æ“ä½œ**: åŒºåŸŸé€‰æ‹©å’Œé¢œè‰²æ‹¾å–æ—¶è‡ªåŠ¨éšè—ä¸»ç•Œé¢ï¼Œæä¾›å…¨å±æ“ä½œä½“éªŒã€‚æ“ä½œå®Œæˆåæ— ç¼æ¢å¤ç•Œé¢çŠ¶æ€ã€‚

## ä¾èµ–ç¯å¢ƒä¸é…ç½®

### ç³»ç»Ÿè¦æ±‚

- **æ“ä½œç³»ç»Ÿ**: Windows 10/11 (ä¸»è¦æ”¯æŒå¹³å°)
- **Python ç‰ˆæœ¬**: 3.7+
- **æƒé™è¦æ±‚**: éƒ¨åˆ†åŠŸèƒ½éœ€è¦ç®¡ç†å‘˜æƒé™ï¼ˆå¦‚çƒ­é”®ç›‘å¬ï¼‰

### æ ¸å¿ƒä¾èµ–

```
PySide6>=6.5.0        # GUIæ¡†æ¶
psutil>=5.9.0         # ç³»ç»Ÿè¿›ç¨‹ç®¡ç†
pynput>=1.7.6         # é”®ç›˜é¼ æ ‡è¾“å…¥æ§åˆ¶
Pillow>=9.0.0         # å›¾åƒå¤„ç†
numpy>=1.20.0         # æ•°å€¼è®¡ç®—
opencv-python>=4.5.0  # è®¡ç®—æœºè§†è§‰
pywin32>=306          # Windows APIæ¥å£
paddleocr==2.7.3      # OCRæ–‡å­—è¯†åˆ«
```

### ç¯å¢ƒé…ç½®

- **DEBUG æ¨¡å¼**: è®¾ç½®ç¯å¢ƒå˜é‡`DEBUG=1`å¯ç”¨è¯¦ç»†æ—¥å¿—è¾“å‡º
- **ä»£ç†è®¾ç½®**: æ”¯æŒ HTTP/HTTPS ä»£ç†é…ç½®ï¼ˆç”¨äº PaddleOCR ä¸‹è½½ï¼‰
- **é…ç½®æ–‡ä»¶**: æ”¯æŒ JSON æ ¼å¼çš„é…ç½®æ–‡ä»¶ï¼Œæ”¯æŒå¤šå¥—é…ç½®åˆ‡æ¢

### é¡¹ç›®ç»“æ„

```
pyahk/
â”œâ”€â”€ main.py                     # GUIç‰ˆæœ¬ä¸»å…¥å£
â”œâ”€â”€ main_special.py             # å‘½ä»¤è¡Œç‰ˆæœ¬å…¥å£
â”œâ”€â”€ requirements.txt            # Pythonä¾èµ–åˆ—è¡¨
â”œâ”€â”€ *.json                     # é…ç½®æ–‡ä»¶(default.json, d4.jsonç­‰)
â”œâ”€â”€ native_capture/            # C++åŸç”Ÿæ•è·åº“
â”‚   â”œâ”€â”€ capture_lib.cpp       # C++æ•è·å®ç°
â”‚   â”œâ”€â”€ capture_lib.h         # C++å¤´æ–‡ä»¶
â”‚   â”œâ”€â”€ python_wrapper.py     # Python ctypesåŒ…è£…å™¨
â”‚   â”œâ”€â”€ CMakeLists.txt        # CMakeæ„å»ºé…ç½®
â”‚   â””â”€â”€ build.bat             # Windowsæ„å»ºè„šæœ¬
â””â”€â”€ torchlight_assistant/      # Pythonä¸»åº”ç”¨åŒ…
    â”œâ”€â”€ core/                  # æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
    â”‚   â”œâ”€â”€ macro_engine.py    # å®å¼•æ“ï¼šçŠ¶æ€ç®¡ç†ä¸äº‹ä»¶åè°ƒ
    â”‚   â”œâ”€â”€ skill_manager.py   # æŠ€èƒ½ç®¡ç†å™¨ï¼šç»Ÿä¸€è°ƒåº¦å™¨é›†æˆ
    â”‚   â”œâ”€â”€ resource_manager.py # èµ„æºç®¡ç†å™¨ï¼šè¢«åŠ¨å¼è¯å‰‚æ£€æµ‹
    â”‚   â”œâ”€â”€ input_handler.py   # è¾“å…¥å¤„ç†å™¨ï¼šé”®é¼ é˜Ÿåˆ—ç®¡ç†
    â”‚   â”œâ”€â”€ pathfinding_manager.py # å¯»è·¯ç®¡ç†å™¨ï¼šA*ç®—æ³•å®ç°
    â”‚   â”œâ”€â”€ simple_affix_reroll_manager.py # æ´—ç»ƒç®¡ç†å™¨
    â”‚   â”œâ”€â”€ event_bus.py       # äº‹ä»¶æ€»çº¿ï¼šå‘å¸ƒè®¢é˜…æ¨¡å¼
    â”‚   â”œâ”€â”€ unified_scheduler.py # ç»Ÿä¸€è°ƒåº¦å™¨ï¼šheapqå®ç°
    â”‚   â”œâ”€â”€ config_manager.py  # é…ç½®ç®¡ç†å™¨ï¼šJSONå¤„ç†
    â”‚   â””â”€â”€ states.py          # çŠ¶æ€å®šä¹‰ï¼šMacroStateæšä¸¾
    â”œâ”€â”€ gui/                   # ç”¨æˆ·ç•Œé¢å±‚
    â”‚   â”œâ”€â”€ main_window.py     # ä¸»çª—å£ï¼šé›†æˆæ‰€æœ‰ç•Œé¢ç»„ä»¶
    â”‚   â”œâ”€â”€ status_window.py   # OSDçŠ¶æ€çª—å£
    â”‚   â”œâ”€â”€ ui_components.py   # UIç»„ä»¶ï¼šæ ‡ç­¾é¡µå’Œæ§ä»¶
    â”‚   â”œâ”€â”€ resource_widgets.py # æ™ºèƒ½è¯å‰‚é…ç½®ç•Œé¢
    â”‚   â”œâ”€â”€ skill_config_widget.py # æŠ€èƒ½é…ç½®ç•Œé¢
    â”‚   â”œâ”€â”€ custom_widgets.py  # è‡ªå®šä¹‰æ§ä»¶
    â”‚   â””â”€â”€ styles.py          # ç•Œé¢æ ·å¼å®šä¹‰
    â””â”€â”€ utils/                 # å·¥å…·ç±»å±‚
        â”œâ”€â”€ native_graphics_capture_manager.py # åŸç”Ÿæ•è·ç®¡ç†
        â”œâ”€â”€ border_frame_manager.py # è¾¹æ¡†å›¾ç®¡ç†ï¼šå¸§æ•°æ®åˆ†å‘
        â”œâ”€â”€ hotkey_manager.py   # çƒ­é”®ç®¡ç†ï¼šWindows APIé’©å­
        â”œâ”€â”€ paddle_ocr_manager.py # OCRç®¡ç†ï¼šPaddleOCRå°è£…
        â”œâ”€â”€ sound_manager.py    # å£°éŸ³ç®¡ç†ï¼šéŸ³é¢‘åé¦ˆ
        â”œâ”€â”€ window_utils.py     # çª—å£å·¥å…·ï¼šè¿›ç¨‹æŸ¥æ‰¾
        â”œâ”€â”€ debug_log.py        # è°ƒè¯•æ—¥å¿—ï¼šæ¡ä»¶è¾“å‡º
        â””â”€â”€ a_star.py           # A*ç®—æ³•ï¼šè·¯å¾„è§„åˆ’å®ç°